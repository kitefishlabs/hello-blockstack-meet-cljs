{"version":3,"sources":["app/views.cljs"],"sourcesContent":["(ns app.views\n  (:require [app.state :refer [app-state]]\n            [app.events :refer [sign-in-user sign-out-user]]\n            [\"blockstack\" :as blockstack]))\n\n(defn header\n  []\n  [:div\n   [:h1 \"An example reagent/blockstack app\"]])\n\n(defn signin\n  []\n  [:div\n   (if (.isUserSignedIn blockstack)\n    [:button.btn {:on-click #(sign-out-user %)} \"Sign out\"]\n    [:button.btn {:on-click #(sign-in-user %)} \"Sign in\"])])\n\n(defn user-info\n  []\n  (if (.isUserSignedIn blockstack)\n    (let [data (js->clj (.loadUserData blockstack) :keywordize-keys true)\n          name (:name (:profile data))\n          username (:username data)]\n     [:div\n      [:h1 (str \"Hello \" name \". \")]\n      [:h2 (str username)]])))\n\n(defn app []\n  (if (.isSignInPending blockstack)\n   (->\n    (.handlePendingSignIn blockstack) ;(.. js/window -location -origin)))\n    (.then (fn [_] (set! (.. js/window -location) (.. js/window -location -origin))))))\n  [:div\n   [header]\n   [user-info]\n   [signin]])\n"],"mappings":";;;;;AAKA,AAAA,AAAMA;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA;;AAKA,AAAA,AAAMC;AAAN,AAAA,AAAA,AAGG,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAI,AAAiBC;AAArB,AAC0B,AAAAC,AAACC;AAD3B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAE0B,AAAAC,AAACC;AAF3B;;AAIH,AAAA,AAAMC;AAAN,AAEE,AAAI,AAAiBL;AACnB,AAAM,AAAK,AAAA,AAAA,AAACM,AAAQ,AAAeN;AAC7B,AAAK,AAAA,AAAO,AAAA,AAAUO;AACtB,AAAS,AAAA,AAAWA;AAF1B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAIO,AAAA,AAAA,AAAcC,AACd,AAAKC;;AANd;;;AAQF,AAAA,AAAMC;AAAN,AACE,AAAI,AAAkBV;AAEpB,AAAsBA,AACtB,AAAO,AAAK;AAAL,AAAQ,AAAM,AAAIW,AAAqB,AAAA,AAAIA;;;AAHpD;;AADF,AAAA,AAAA,AAAA,AAAA,AAMIb,AACAO,AACAN","names":["app.views/header","app.views/signin","js/module$node_modules$blockstack$lib$index","p1__11864#","app.events/sign-out-user","p1__11865#","app.events/sign-in-user","app.views/user-info","cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic","data","name","username","app.views/app","js/window"]}
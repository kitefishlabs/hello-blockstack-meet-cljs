shadow$provide.module$node_modules$cheerio$lib$api$traversing=function(global,process,require,module,exports,shadow$shims){function traverseParents(self,elem,selector,limit){for(var elems=[];elem&&elems.length<limit;)selector&&!exports.filter.call([elem],selector,self).length||elems.push(elem),elem=elem.parent;return elems}var select=require("module$node_modules$css_select$index");global=require("module$node_modules$cheerio$lib$utils");var domEach=global.domEach,uniqueSort=require("module$node_modules$htmlparser2$lib$index").DomUtils.uniqueSort,
isTag=global.isTag,_={bind:require("module$node_modules$lodash_DOT_bind$index"),forEach:require("module$node_modules$lodash_DOT_foreach$index"),reject:require("module$node_modules$lodash_DOT_reject$index"),filter:require("module$node_modules$lodash_DOT_filter$index"),reduce:require("module$node_modules$lodash_DOT_reduce$index")};exports.find=function(selectorOrHaystack){var elems=_.reduce(this,function(memo,elem){return memo.concat(_.filter(elem.children,isTag))},[]),contains=this.constructor.contains;
if(selectorOrHaystack&&"string"!==typeof selectorOrHaystack)return selectorOrHaystack=selectorOrHaystack.cheerio?selectorOrHaystack.get():[selectorOrHaystack],this._make(selectorOrHaystack.filter(function(elem){var len;var idx=0;for(len=this.length;idx<len;++idx)if(contains(this[idx],elem))return!0},this));var options={__proto__:this.options,context:this.toArray()};return this._make(select(selectorOrHaystack,elems,options))};exports.parent=function(selector){var set=[];domEach(this,function(idx,elem){(idx=
elem.parent)&&0>set.indexOf(idx)&&set.push(idx)});arguments.length&&(set=exports.filter.call(set,selector,this));return this._make(set)};exports.parents=function(selector){var parentNodes=[];this.get().reverse().forEach(function(elem){traverseParents(this,elem.parent,selector,Infinity).forEach(function(node){-1===parentNodes.indexOf(node)&&parentNodes.push(node)})},this);return this._make(parentNodes)};exports.parentsUntil=function(selector,filter){var parentNodes=[],untilNode,untilNodes;"string"===
typeof selector?untilNode=select(selector,this.parents().toArray(),this.options)[0]:selector&&selector.cheerio?untilNodes=selector.toArray():selector&&(untilNode=selector);this.toArray().reverse().forEach(function(elem){for(;elem=elem.parent;)if(untilNode&&elem!==untilNode||untilNodes&&-1===untilNodes.indexOf(elem)||!untilNode&&!untilNodes)isTag(elem)&&-1===parentNodes.indexOf(elem)&&parentNodes.push(elem);else break},this);return this._make(filter?select(filter,parentNodes,this.options):parentNodes)};
exports.closest=function(selector){var set=[];if(!selector)return this._make(set);domEach(this,function(idx,elem){(idx=traverseParents(this,elem,selector,1)[0])&&0>set.indexOf(idx)&&set.push(idx)}.bind(this));return this._make(set)};exports.next=function(selector){if(!this[0])return this;var elems=[];_.forEach(this,function(elem){for(;elem=elem.next;)if(isTag(elem)){elems.push(elem);break}});return selector?exports.filter.call(elems,selector,this):this._make(elems)};exports.nextAll=function(selector){if(!this[0])return this;
var elems=[];_.forEach(this,function(elem){for(;elem=elem.next;)isTag(elem)&&-1===elems.indexOf(elem)&&elems.push(elem)});return selector?exports.filter.call(elems,selector,this):this._make(elems)};exports.nextUntil=function(selector,filterSelector){if(!this[0])return this;var elems=[],untilNode,untilNodes;"string"===typeof selector?untilNode=select(selector,this.nextAll().get(),this.options)[0]:selector&&selector.cheerio?untilNodes=selector.get():selector&&(untilNode=selector);_.forEach(this,function(elem){for(;elem=
elem.next;)if(untilNode&&elem!==untilNode||untilNodes&&-1===untilNodes.indexOf(elem)||!untilNode&&!untilNodes)isTag(elem)&&-1===elems.indexOf(elem)&&elems.push(elem);else break});return filterSelector?exports.filter.call(elems,filterSelector,this):this._make(elems)};exports.prev=function(selector){if(!this[0])return this;var elems=[];_.forEach(this,function(elem){for(;elem=elem.prev;)if(isTag(elem)){elems.push(elem);break}});return selector?exports.filter.call(elems,selector,this):this._make(elems)};
exports.prevAll=function(selector){if(!this[0])return this;var elems=[];_.forEach(this,function(elem){for(;elem=elem.prev;)isTag(elem)&&-1===elems.indexOf(elem)&&elems.push(elem)});return selector?exports.filter.call(elems,selector,this):this._make(elems)};exports.prevUntil=function(selector,filterSelector){if(!this[0])return this;var elems=[],untilNode,untilNodes;"string"===typeof selector?untilNode=select(selector,this.prevAll().get(),this.options)[0]:selector&&selector.cheerio?untilNodes=selector.get():
selector&&(untilNode=selector);_.forEach(this,function(elem){for(;elem=elem.prev;)if(untilNode&&elem!==untilNode||untilNodes&&-1===untilNodes.indexOf(elem)||!untilNode&&!untilNodes)isTag(elem)&&-1===elems.indexOf(elem)&&elems.push(elem);else break});return filterSelector?exports.filter.call(elems,filterSelector,this):this._make(elems)};exports.siblings=function(selector){var parent=this.parent();parent=_.filter(parent?parent.children():this.siblingsAndMe(),_.bind(function(elem){return isTag(elem)&&
!this.is(elem)},this));return void 0!==selector?exports.filter.call(parent,selector,this):this._make(parent)};exports.children=function(selector){var elems=_.reduce(this,function(memo,elem){return memo.concat(_.filter(elem.children,isTag))},[]);return void 0===selector?this._make(elems):exports.filter.call(elems,selector,this)};exports.contents=function(){return this._make(_.reduce(this,function(all,elem){all.push.apply(all,elem.children);return all},[]))};exports.each=function(fn){for(var i=0,len=
this.length;i<len&&!1!==fn.call(this[i],i,this[i]);)++i;return this};exports.map=function(fn){return this._make(_.reduce(this,function(memo,el,i){el=fn.call(el,i,el);return null==el?memo:memo.concat(el)},[]))};require=function(filterFn){return function(match,container){container=container||this;var testFn="string"===typeof match?select.compile(match,container.options):"function"===typeof match?function(el,i){return match.call(el,i,el)}:match.cheerio?match.is.bind(match):function(el){return match===
el};return container._make(filterFn(this,testFn))}};exports.filter=require(_.filter);exports.not=require(_.reject);exports.has=function(selectorOrHaystack){var that=this;return exports.filter.call(this,function(){return 0<that._make(this).find(selectorOrHaystack).length})};exports.first=function(){return 1<this.length?this._make(this[0]):this};exports.last=function(){return 1<this.length?this._make(this[this.length-1]):this};exports.eq=function(i){i=+i;if(0===i&&1>=this.length)return this;0>i&&(i=
this.length+i);return this[i]?this._make(this[i]):this._make([])};exports.get=function(i){return null==i?Array.prototype.slice.call(this):this[0>i?this.length+i:i]};exports.index=function(selectorOrNeedle){if(0===arguments.length){var $haystack=this.parent().children();var needle=this[0]}else"string"===typeof selectorOrNeedle?($haystack=this._make(selectorOrNeedle),needle=this[0]):($haystack=this,needle=selectorOrNeedle.cheerio?selectorOrNeedle[0]:selectorOrNeedle);return $haystack.get().indexOf(needle)};
exports.slice=function(){return this._make([].slice.apply(this,arguments))};exports.end=function(){return this.prevObject||this._make([])};exports.add=function(other,context){other=this._make(other,context);context=uniqueSort(other.get().concat(this.get()));for(var i=0;i<context.length;++i)other[i]=context[i];other.length=context.length;return other};exports.addBack=function(selector){return this.add(arguments.length?this.prevObject.filter(selector):this.prevObject)}}
//# sourceMappingURL=module$node_modules$cheerio$lib$api$traversing.js.map

{
"version":3,
"file":"module$node_modules$triplesec$lib$pbkdf2.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/triplesec/lib/pbkdf2.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$triplesec$lib$pbkdf2\"] = function(global,process,require,module,exports,shadow$shims) {\n// Generated by IcedCoffeeScript 108.0.8\n(function() {\n  var HMAC, PBKDF2, WordArray, iced, pbkdf2, util, __iced_k, __iced_k_noop;\n\n  iced = require('iced-runtime');\n  __iced_k = __iced_k_noop = function() {};\n\n  HMAC = require('./hmac').HMAC;\n\n  WordArray = require('./wordarray').WordArray;\n\n  util = require('./util');\n\n  PBKDF2 = (function() {\n    function PBKDF2(_arg) {\n      this.klass = _arg.klass, this.c = _arg.c;\n      this.c || (this.c = 1024);\n      this.klass || (this.klass = HMAC);\n    }\n\n    PBKDF2.prototype._PRF = function(input) {\n      this.prf.reset();\n      return this.prf.finalize(input);\n    };\n\n    PBKDF2.prototype._gen_T_i = function(_arg, cb) {\n      var U, i, progress_hook, ret, salt, seed, stop, ___iced_passed_deferral, __iced_deferrals, __iced_k;\n      __iced_k = __iced_k_noop;\n      ___iced_passed_deferral = iced.findDeferral(arguments);\n      salt = _arg.salt, i = _arg.i, progress_hook = _arg.progress_hook;\n      progress_hook(0);\n      seed = salt.clone().concat(new WordArray([i]));\n      U = this._PRF(seed);\n      ret = U.clone();\n      i = 1;\n      (function(_this) {\n        return (function(__iced_k) {\n          var _while;\n          _while = function(__iced_k) {\n            var _break, _continue, _next;\n            _break = __iced_k;\n            _continue = function() {\n              return iced.trampoline(function() {\n                return _while(__iced_k);\n              });\n            };\n            _next = _continue;\n            if (!(i < _this.c)) {\n              return _break();\n            } else {\n              stop = Math.min(_this.c, i + 128);\n              while (i < stop) {\n                U = _this._PRF(U);\n                ret.xor(U, {});\n                i++;\n              }\n              progress_hook(i);\n              (function(__iced_k) {\n                __iced_deferrals = new iced.Deferrals(__iced_k, {\n                  parent: ___iced_passed_deferral,\n                  filename: \"/Users/max/src/keybase/triplesec/src/pbkdf2.iced\",\n                  funcname: \"PBKDF2._gen_T_i\"\n                });\n                util.default_delay(0, 0, __iced_deferrals.defer({\n                  lineno: 57\n                }));\n                __iced_deferrals._fulfill();\n              })(function() {\n                return _next(null);\n              });\n            }\n          };\n          _while(__iced_k);\n        });\n      })(this)((function(_this) {\n        return function() {\n          progress_hook(i);\n          return cb(ret);\n        };\n      })(this));\n    };\n\n    PBKDF2.prototype.run = function(_arg, cb) {\n      var bs, dkLen, flat, i, key, n, ph, progress_hook, salt, tmp, tph, words, ___iced_passed_deferral, __iced_deferrals, __iced_k, _begin, _end, _positive;\n      __iced_k = __iced_k_noop;\n      ___iced_passed_deferral = iced.findDeferral(arguments);\n      key = _arg.key, salt = _arg.salt, dkLen = _arg.dkLen, progress_hook = _arg.progress_hook;\n      this.prf = new this.klass(key);\n      bs = this.prf.get_output_size();\n      n = Math.ceil(dkLen / bs);\n      words = [];\n      tph = null;\n      ph = (function(_this) {\n        return function(block) {\n          return function(iter) {\n            return typeof progress_hook === \"function\" ? progress_hook({\n              what: \"pbkdf2\",\n              total: n * _this.c,\n              i: block * _this.c + iter\n            }) : void 0;\n          };\n        };\n      })(this);\n      ph(0)(0);\n      (function(_this) {\n        return (function(__iced_k) {\n          var _i, _results, _while;\n          i = 1;\n          _begin = 1;\n          _end = n;\n          _positive = _end > _begin;\n          _while = function(__iced_k) {\n            var _break, _continue, _next;\n            _break = __iced_k;\n            _continue = function() {\n              return iced.trampoline(function() {\n                if (_positive) {\n                  i += 1;\n                } else {\n                  i -= 1;\n                }\n                return _while(__iced_k);\n              });\n            };\n            _next = _continue;\n            if (!!((_positive === true && i > n) || (_positive === false && i < n))) {\n              return _break();\n            } else {\n\n              (function(__iced_k) {\n                __iced_deferrals = new iced.Deferrals(__iced_k, {\n                  parent: ___iced_passed_deferral,\n                  filename: \"/Users/max/src/keybase/triplesec/src/pbkdf2.iced\",\n                  funcname: \"PBKDF2.run\"\n                });\n                _this._gen_T_i({\n                  salt: salt,\n                  i: i,\n                  progress_hook: ph(i - 1)\n                }, __iced_deferrals.defer({\n                  assign_fn: (function() {\n                    return function() {\n                      return tmp = arguments[0];\n                    };\n                  })(),\n                  lineno: 80\n                }));\n                __iced_deferrals._fulfill();\n              })(function() {\n                return _next(words.push(tmp.words));\n              });\n            }\n          };\n          _while(__iced_k);\n        });\n      })(this)((function(_this) {\n        return function() {\n          var _ref;\n          ph(n)(0);\n          flat = (_ref = []).concat.apply(_ref, words);\n          key.scrub();\n          _this.prf.scrub();\n          _this.prf = null;\n          return cb(new WordArray(flat, dkLen));\n        };\n      })(this));\n    };\n\n    return PBKDF2;\n\n  })();\n\n  pbkdf2 = function(_arg, cb) {\n    var c, dkLen, eng, key, klass, out, progress_hook, salt, ___iced_passed_deferral, __iced_deferrals, __iced_k;\n    __iced_k = __iced_k_noop;\n    ___iced_passed_deferral = iced.findDeferral(arguments);\n    key = _arg.key, salt = _arg.salt, klass = _arg.klass, c = _arg.c, dkLen = _arg.dkLen, progress_hook = _arg.progress_hook;\n    eng = new PBKDF2({\n      klass: klass,\n      c: c\n    });\n    (function(_this) {\n      return (function(__iced_k) {\n        __iced_deferrals = new iced.Deferrals(__iced_k, {\n          parent: ___iced_passed_deferral,\n          filename: \"/Users/max/src/keybase/triplesec/src/pbkdf2.iced\"\n        });\n        eng.run({\n          key: key,\n          salt: salt,\n          dkLen: dkLen,\n          progress_hook: progress_hook\n        }, __iced_deferrals.defer({\n          assign_fn: (function() {\n            return function() {\n              return out = arguments[0];\n            };\n          })(),\n          lineno: 106\n        }));\n        __iced_deferrals._fulfill();\n      });\n    })(this)((function(_this) {\n      return function() {\n        return cb(out);\n      };\n    })(this));\n  };\n\n  exports.pbkdf2 = pbkdf2;\n\n  exports.PBKDF2 = PBKDF2;\n\n}).call(this);\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","iced","HMAC","WordArray","util","PBKDF2","_arg","klass","c","prototype","_PRF","PBKDF2.prototype._PRF","input","prf","reset","finalize","_gen_T_i","PBKDF2.prototype._gen_T_i","cb","stop","__iced_deferrals","___iced_passed_deferral","findDeferral","arguments","salt","i","progress_hook","seed","clone","concat","U","ret","_this","__iced_k","_while","_next","_continue","trampoline","Math","min","xor","Deferrals","parent","filename","funcname","default_delay","defer","lineno","_fulfill","run","PBKDF2.prototype.run","flat","tmp","_end","_positive","key","dkLen","bs","get_output_size","n","ceil","words","ph","block","iter","what","total","_begin","assign_fn","push","_ref","apply","scrub","pbkdf2","out","eng","call"]
}

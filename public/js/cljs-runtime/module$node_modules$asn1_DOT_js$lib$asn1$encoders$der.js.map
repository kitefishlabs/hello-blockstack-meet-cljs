{
"version":3,
"file":"module$node_modules$asn1_DOT_js$lib$asn1$encoders$der.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/asn1_DOT_js/lib/asn1/encoders/der.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$asn1_DOT_js$lib$asn1$encoders$der\"] = function(global,process,require,module,exports,shadow$shims) {\nvar inherits = require('inherits');\nvar Buffer = require('buffer').Buffer;\n\nvar asn1 = require('../../asn1');\nvar base = asn1.base;\n\n// Import DER constants\nvar der = asn1.constants.der;\n\nfunction DEREncoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n};\nmodule.exports = DEREncoder;\n\nDEREncoder.prototype.encode = function encode(data, reporter) {\n  return this.tree._encode(data, reporter).join();\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  base.Node.call(this, 'der', parent);\n}\ninherits(DERNode, base.Node);\n\nDERNode.prototype._encodeComposite = function encodeComposite(tag,\n                                                              primitive,\n                                                              cls,\n                                                              content) {\n  var encodedTag = encodeTag(tag, primitive, cls, this.reporter);\n\n  // Short form\n  if (content.length < 0x80) {\n    var header = new Buffer(2);\n    header[0] = encodedTag;\n    header[1] = content.length;\n    return this._createEncoderBuffer([ header, content ]);\n  }\n\n  // Long form\n  // Count octets required to store length\n  var lenOctets = 1;\n  for (var i = content.length; i >= 0x100; i >>= 8)\n    lenOctets++;\n\n  var header = new Buffer(1 + 1 + lenOctets);\n  header[0] = encodedTag;\n  header[1] = 0x80 | lenOctets;\n\n  for (var i = 1 + lenOctets, j = content.length; j > 0; i--, j >>= 8)\n    header[i] = j & 0xff;\n\n  return this._createEncoderBuffer([ header, content ]);\n};\n\nDERNode.prototype._encodeStr = function encodeStr(str, tag) {\n  if (tag === 'bitstr') {\n    return this._createEncoderBuffer([ str.unused | 0, str.data ]);\n  } else if (tag === 'bmpstr') {\n    var buf = new Buffer(str.length * 2);\n    for (var i = 0; i < str.length; i++) {\n      buf.writeUInt16BE(str.charCodeAt(i), i * 2);\n    }\n    return this._createEncoderBuffer(buf);\n  } else if (tag === 'numstr') {\n    if (!this._isNumstr(str)) {\n      return this.reporter.error('Encoding of string type: numstr supports ' +\n                                 'only digits and space');\n    }\n    return this._createEncoderBuffer(str);\n  } else if (tag === 'printstr') {\n    if (!this._isPrintstr(str)) {\n      return this.reporter.error('Encoding of string type: printstr supports ' +\n                                 'only latin upper and lower case letters, ' +\n                                 'digits, space, apostrophe, left and rigth ' +\n                                 'parenthesis, plus sign, comma, hyphen, ' +\n                                 'dot, slash, colon, equal sign, ' +\n                                 'question mark');\n    }\n    return this._createEncoderBuffer(str);\n  } else if (/str$/.test(tag)) {\n    return this._createEncoderBuffer(str);\n  } else if (tag === 'objDesc') {\n    return this._createEncoderBuffer(str);\n  } else {\n    return this.reporter.error('Encoding of string type: ' + tag +\n                               ' unsupported');\n  }\n};\n\nDERNode.prototype._encodeObjid = function encodeObjid(id, values, relative) {\n  if (typeof id === 'string') {\n    if (!values)\n      return this.reporter.error('string objid given, but no values map found');\n    if (!values.hasOwnProperty(id))\n      return this.reporter.error('objid not found in values map');\n    id = values[id].split(/[\\s\\.]+/g);\n    for (var i = 0; i < id.length; i++)\n      id[i] |= 0;\n  } else if (Array.isArray(id)) {\n    id = id.slice();\n    for (var i = 0; i < id.length; i++)\n      id[i] |= 0;\n  }\n\n  if (!Array.isArray(id)) {\n    return this.reporter.error('objid() should be either array or string, ' +\n                               'got: ' + JSON.stringify(id));\n  }\n\n  if (!relative) {\n    if (id[1] >= 40)\n      return this.reporter.error('Second objid identifier OOB');\n    id.splice(0, 2, id[0] * 40 + id[1]);\n  }\n\n  // Count number of octets\n  var size = 0;\n  for (var i = 0; i < id.length; i++) {\n    var ident = id[i];\n    for (size++; ident >= 0x80; ident >>= 7)\n      size++;\n  }\n\n  var objid = new Buffer(size);\n  var offset = objid.length - 1;\n  for (var i = id.length - 1; i >= 0; i--) {\n    var ident = id[i];\n    objid[offset--] = ident & 0x7f;\n    while ((ident >>= 7) > 0)\n      objid[offset--] = 0x80 | (ident & 0x7f);\n  }\n\n  return this._createEncoderBuffer(objid);\n};\n\nfunction two(num) {\n  if (num < 10)\n    return '0' + num;\n  else\n    return num;\n}\n\nDERNode.prototype._encodeTime = function encodeTime(time, tag) {\n  var str;\n  var date = new Date(time);\n\n  if (tag === 'gentime') {\n    str = [\n      two(date.getFullYear()),\n      two(date.getUTCMonth() + 1),\n      two(date.getUTCDate()),\n      two(date.getUTCHours()),\n      two(date.getUTCMinutes()),\n      two(date.getUTCSeconds()),\n      'Z'\n    ].join('');\n  } else if (tag === 'utctime') {\n    str = [\n      two(date.getFullYear() % 100),\n      two(date.getUTCMonth() + 1),\n      two(date.getUTCDate()),\n      two(date.getUTCHours()),\n      two(date.getUTCMinutes()),\n      two(date.getUTCSeconds()),\n      'Z'\n    ].join('');\n  } else {\n    this.reporter.error('Encoding ' + tag + ' time is not supported yet');\n  }\n\n  return this._encodeStr(str, 'octstr');\n};\n\nDERNode.prototype._encodeNull = function encodeNull() {\n  return this._createEncoderBuffer('');\n};\n\nDERNode.prototype._encodeInt = function encodeInt(num, values) {\n  if (typeof num === 'string') {\n    if (!values)\n      return this.reporter.error('String int or enum given, but no values map');\n    if (!values.hasOwnProperty(num)) {\n      return this.reporter.error('Values map doesn\\'t contain: ' +\n                                 JSON.stringify(num));\n    }\n    num = values[num];\n  }\n\n  // Bignum, assume big endian\n  if (typeof num !== 'number' && !Buffer.isBuffer(num)) {\n    var numArray = num.toArray();\n    if (!num.sign && numArray[0] & 0x80) {\n      numArray.unshift(0);\n    }\n    num = new Buffer(numArray);\n  }\n\n  if (Buffer.isBuffer(num)) {\n    var size = num.length;\n    if (num.length === 0)\n      size++;\n\n    var out = new Buffer(size);\n    num.copy(out);\n    if (num.length === 0)\n      out[0] = 0\n    return this._createEncoderBuffer(out);\n  }\n\n  if (num < 0x80)\n    return this._createEncoderBuffer(num);\n\n  if (num < 0x100)\n    return this._createEncoderBuffer([0, num]);\n\n  var size = 1;\n  for (var i = num; i >= 0x100; i >>= 8)\n    size++;\n\n  var out = new Array(size);\n  for (var i = out.length - 1; i >= 0; i--) {\n    out[i] = num & 0xff;\n    num >>= 8;\n  }\n  if(out[0] & 0x80) {\n    out.unshift(0);\n  }\n\n  return this._createEncoderBuffer(new Buffer(out));\n};\n\nDERNode.prototype._encodeBool = function encodeBool(value) {\n  return this._createEncoderBuffer(value ? 0xff : 0);\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getEncoder('der').tree;\n};\n\nDERNode.prototype._skipDefault = function skipDefault(dataBuffer, reporter, parent) {\n  var state = this._baseState;\n  var i;\n  if (state['default'] === null)\n    return false;\n\n  var data = dataBuffer.join();\n  if (state.defaultBuffer === undefined)\n    state.defaultBuffer = this._encodeValue(state['default'], reporter, parent).join();\n\n  if (data.length !== state.defaultBuffer.length)\n    return false;\n\n  for (i=0; i < data.length; i++)\n    if (data[i] !== state.defaultBuffer[i])\n      return false;\n\n  return true;\n};\n\n// Utility methods\n\nfunction encodeTag(tag, primitive, cls, reporter) {\n  var res;\n\n  if (tag === 'seqof')\n    tag = 'seq';\n  else if (tag === 'setof')\n    tag = 'set';\n\n  if (der.tagByName.hasOwnProperty(tag))\n    res = der.tagByName[tag];\n  else if (typeof tag === 'number' && (tag | 0) === tag)\n    res = tag;\n  else\n    return reporter.error('Unknown tag: ' + tag);\n\n  if (res >= 0x1f)\n    return reporter.error('Multi-octet tag encoding unsupported');\n\n  if (!primitive)\n    res |= 0x20;\n\n  res |= (der.tagClassByName[cls || 'universal'] << 6);\n\n  return res;\n}\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","DEREncoder","entity","enc","name","tree","DERNode","_init","body","parent","base","Node","call","two","num","inherits","Buffer","asn1","der","constants","prototype","encode","DEREncoder.prototype.encode","data","reporter","_encode","join","_encodeComposite","DERNode.prototype._encodeComposite","tag","primitive","cls","content","tagByName","hasOwnProperty","res","error","tagClassByName","length","header","encodedTag","_createEncoderBuffer","lenOctets","i","j","_encodeStr","DERNode.prototype._encodeStr","str","unused","buf","writeUInt16BE","charCodeAt","_isNumstr","_isPrintstr","test","_encodeObjid","DERNode.prototype._encodeObjid","id","values","relative","split","Array","isArray","slice","JSON","stringify","splice","size","ident","objid","offset","_encodeTime","DERNode.prototype._encodeTime","time","date","Date","getFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","_encodeNull","DERNode.prototype._encodeNull","_encodeInt","DERNode.prototype._encodeInt","isBuffer","numArray","toArray","sign","unshift","out","copy","_encodeBool","DERNode.prototype._encodeBool","value","_use","DERNode.prototype._use","obj","_getEncoder","_skipDefault","DERNode.prototype._skipDefault","dataBuffer","state","_baseState","undefined","defaultBuffer","_encodeValue"]
}

shadow$provide.module$node_modules$triplesec$lib$aes=function(global,process,require,module,exports,shadow$shims){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};var AES$jscomp$0=require("module$node_modules$triplesec$lib$algbase").BlockCipher;var scrub_vec=
require("module$node_modules$triplesec$lib$util").scrub_vec;var G=new (function(){function Global(){this.SBOX=[];this.INV_SBOX=[];this.SUB_MIX=function(){var _i;var _results=[];for(_i=0;4>_i;++_i)_results.push([]);return _results}();this.INV_SUB_MIX=function(){var _i;var _results=[];for(_i=0;4>_i;++_i)_results.push([]);return _results}();this.init();this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}Global.prototype.init=function(){var i,t,x,xi,_i;var _results=[];for(i=t=0;256>t;i=++t)128>i?_results.push(i<<
1):_results.push(i<<1^283);for(_i=xi=x=0;256>_i;++_i){i=xi^xi<<1^xi<<2^xi<<3^xi<<4;i=i>>>8^i&255^99;this.SBOX[x]=i;this.INV_SBOX[i]=x;var x2=_results[x];var x4=_results[x2];var x8=_results[x4];t=257*_results[i]^16843008*i;this.SUB_MIX[0][x]=t<<24|t>>>8;this.SUB_MIX[1][x]=t<<16|t>>>16;this.SUB_MIX[2][x]=t<<8|t>>>24;this.SUB_MIX[3][x]=t;t=16843009*x8^65537*x4^257*x2^16843008*x;this.INV_SUB_MIX[0][i]=t<<24|t>>>8;this.INV_SUB_MIX[1][i]=t<<16|t>>>16;this.INV_SUB_MIX[2][i]=t<<8|t>>>24;this.INV_SUB_MIX[3][i]=
t;0===x?x=xi=1:(x=x2^_results[_results[_results[x8^x2]]],xi^=_results[_results[xi]])}return!0};return Global}());AES$jscomp$0=function(_super){function AES(key){this._key=key.clone();this._doReset()}__extends(AES,_super);AES.blockSize=16;AES.prototype.blockSize=AES.blockSize;AES.keySize=32;AES.prototype.keySize=AES.keySize;AES.ivSize=AES.blockSize;AES.prototype.ivSize=AES.ivSize;AES.prototype._doReset=function(){var ksRow,t,_i;var keyWords=this._key.words;var invKsRow=this._key.sigBytes/4;this._nRounds=
invKsRow+6;var ksRows=4*(this._nRounds+1);this._keySchedule=[];for(ksRow=_i=0;0<=ksRows?_i<ksRows:_i>ksRows;ksRow=0<=ksRows?++_i:--_i)this._keySchedule[ksRow]=ksRow<invKsRow?keyWords[ksRow]:(t=this._keySchedule[ksRow-1],0===ksRow%invKsRow?(t=t<<8|t>>>24,t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[t&255],t^=G.RCON[ksRow/invKsRow|0]<<24):6<invKsRow&&4===ksRow%invKsRow?t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[t&255]:void 0,this._keySchedule[ksRow-
invKsRow]^t);this._invKeySchedule=[];for(invKsRow=keyWords=0;0<=ksRows?keyWords<ksRows:keyWords>ksRows;invKsRow=0<=ksRows?++keyWords:--keyWords)ksRow=ksRows-invKsRow,t=this._keySchedule[ksRow-(invKsRow%4?0:4)],this._invKeySchedule[invKsRow]=4>invKsRow||4>=ksRow?t:G.INV_SUB_MIX[0][G.SBOX[t>>>24]]^G.INV_SUB_MIX[1][G.SBOX[t>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[t>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[t&255]];return!0};AES.prototype.encryptBlock=function(M,offset){null==offset&&(offset=0);return this._doCryptBlock(M,
offset,this._keySchedule,G.SUB_MIX,G.SBOX)};AES.prototype.decryptBlock=function(M,offset){var _ref1;null==offset&&(offset=0);var _ref=[M[offset+3],M[offset+1]];M[offset+1]=_ref[0];M[offset+3]=_ref[1];this._doCryptBlock(M,offset,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX);return _ref1=[M[offset+3],M[offset+1]],M[offset+1]=_ref1[0],M[offset+3]=_ref1[1],_ref1};AES.prototype.scrub=function(){scrub_vec(this._keySchedule);scrub_vec(this._invKeySchedule);return this._key.scrub()};AES.prototype._doCryptBlock=
function(M,offset,keySchedule,SUB_MIX,SBOX){var _ref;var s0=M[offset]^keySchedule[0];var s1=M[offset+1]^keySchedule[1];var s2=M[offset+2]^keySchedule[2];var s3=M[offset+3]^keySchedule[3];var ksRow=4;var _i=1;for(_ref=this._nRounds;1<=_ref?_i<_ref:_i>_ref;1<=_ref?++_i:--_i){var t0=SUB_MIX[0][s0>>>24]^SUB_MIX[1][s1>>>16&255]^SUB_MIX[2][s2>>>8&255]^SUB_MIX[3][s3&255]^keySchedule[ksRow++];var t1=SUB_MIX[0][s1>>>24]^SUB_MIX[1][s2>>>16&255]^SUB_MIX[2][s3>>>8&255]^SUB_MIX[3][s0&255]^keySchedule[ksRow++];
var t2=SUB_MIX[0][s2>>>24]^SUB_MIX[1][s3>>>16&255]^SUB_MIX[2][s0>>>8&255]^SUB_MIX[3][s1&255]^keySchedule[ksRow++];s3=SUB_MIX[0][s3>>>24]^SUB_MIX[1][s0>>>16&255]^SUB_MIX[2][s1>>>8&255]^SUB_MIX[3][s2&255]^keySchedule[ksRow++];s0=t0;s1=t1;s2=t2}t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[s3&255])^keySchedule[ksRow++];t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[s0&255])^keySchedule[ksRow++];t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<
8|SBOX[s1&255])^keySchedule[ksRow++];s3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[s2&255])^keySchedule[ksRow++];M[offset]=t0;M[offset+1]=t1;M[offset+2]=t2;return M[offset+3]=s3};return AES}(AES$jscomp$0);exports.AES=AES$jscomp$0}).call(this)}
//# sourceMappingURL=module$node_modules$triplesec$lib$aes.js.map

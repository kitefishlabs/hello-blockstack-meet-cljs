shadow$provide.module$node_modules$domutils$lib$legacy=function(global,process,require,module,exports,shadow$shims){function getAttribCheck(attrib,value){return"function"===typeof value?function(elem){return elem.attribs&&value(elem.attribs[attrib])}:function(elem){return elem.attribs&&elem.attribs[attrib]===value}}function combineFuncs(a,b){return function(elem){return a(elem)||b(elem)}}global=require("module$node_modules$domelementtype$index");var isTag=exports.isTag=global.isTag;exports.testElement=
function(options,element){for(var key in options)if(options.hasOwnProperty(key))if("tag_name"===key){if(!isTag(element)||!options.tag_name(element.name))return!1}else if("tag_type"===key){if(!options.tag_type(element.type))return!1}else if("tag_contains"===key){if(isTag(element)||!options.tag_contains(element.data))return!1}else if(!element.attribs||!options[key](element.attribs[key]))return!1;return!0};var Checks={tag_name:function(name){return"function"===typeof name?function(elem){return isTag(elem)&&
name(elem.name)}:"*"===name?isTag:function(elem){return isTag(elem)&&elem.name===name}},tag_type:function(type){return"function"===typeof type?function(elem){return type(elem.type)}:function(elem){return elem.type===type}},tag_contains:function(data){return"function"===typeof data?function(elem){return!isTag(elem)&&data(elem.data)}:function(elem){return!isTag(elem)&&elem.data===data}}};exports.getElements=function(options,element,recurse,limit){var funcs=Object.keys(options).map(function(key){var value=
options[key];return key in Checks?Checks[key](value):getAttribCheck(key,value)});return 0===funcs.length?[]:this.filter(funcs.reduce(combineFuncs),element,recurse,limit)};exports.getElementById=function(id,element,recurse){Array.isArray(element)||(element=[element]);return this.findOne(getAttribCheck("id",id),element,!1!==recurse)};exports.getElementsByTagName=function(name,element,recurse,limit){return this.filter(Checks.tag_name(name),element,recurse,limit)};exports.getElementsByTagType=function(type,
element,recurse,limit){return this.filter(Checks.tag_type(type),element,recurse,limit)}}
//# sourceMappingURL=module$node_modules$domutils$lib$legacy.js.map

shadow$provide.module$node_modules$zone_file$lib$makeZoneFile=function(global,process,require,module,exports,shadow$shims){Object.defineProperty(exports,"__esModule",{value:!0});exports.makeZoneFile=function(jsonZoneFile){var template=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(0,_zoneFileTemplate.getZoneFileTemplate)(),data=jsonZoneFile.$origin,ret="";"undefined"!==typeof data&&(ret+="$ORIGIN "+data);template=template.replace("{$origin}",ret);data=jsonZoneFile.$ttl;ret="";"undefined"!==
typeof data&&(ret+="$TTL "+data);template=template.replace("{$ttl}",ret);data=jsonZoneFile.soa;if("undefined"!==typeof data){data.name=data.name||"@";data.ttl=data.ttl||"";for(var key in data)template=template.replace("{"+key+"}",data[key]+"\t")}key=jsonZoneFile.ns;data="";for(var i in key)data+=(key[i].name||"@")+"\t",key[i].ttl&&(data+=key[i].ttl+"\t"),data+="IN\tNS\t"+key[i].host+"\n";template=template.replace("{ns}",data);i=jsonZoneFile.a;key="";for(var i$jscomp$0 in i)key+=(i[i$jscomp$0].name||
"@")+"\t",i[i$jscomp$0].ttl&&(key+=i[i$jscomp$0].ttl+"\t"),key+="IN\tA\t"+i[i$jscomp$0].ip+"\n";template=template.replace("{a}",key);i$jscomp$0=jsonZoneFile.aaaa;i="";for(var i$jscomp$1 in i$jscomp$0)i+=(i$jscomp$0[i$jscomp$1].name||"@")+"\t",i$jscomp$0[i$jscomp$1].ttl&&(i+=i$jscomp$0[i$jscomp$1].ttl+"\t"),i+="IN\tAAAA\t"+i$jscomp$0[i$jscomp$1].ip+"\n";template=template.replace("{aaaa}",i);i$jscomp$1=jsonZoneFile.cname;i$jscomp$0="";for(var i$jscomp$2 in i$jscomp$1)i$jscomp$0+=(i$jscomp$1[i$jscomp$2].name||
"@")+"\t",i$jscomp$1[i$jscomp$2].ttl&&(i$jscomp$0+=i$jscomp$1[i$jscomp$2].ttl+"\t"),i$jscomp$0+="IN\tCNAME\t"+i$jscomp$1[i$jscomp$2].alias+"\n";template=template.replace("{cname}",i$jscomp$0);i$jscomp$2=jsonZoneFile.mx;i$jscomp$1="";for(var i$jscomp$3 in i$jscomp$2)i$jscomp$1+=(i$jscomp$2[i$jscomp$3].name||"@")+"\t",i$jscomp$2[i$jscomp$3].ttl&&(i$jscomp$1+=i$jscomp$2[i$jscomp$3].ttl+"\t"),i$jscomp$1+="IN\tMX\t"+i$jscomp$2[i$jscomp$3].preference+"\t"+i$jscomp$2[i$jscomp$3].host+"\n";template=template.replace("{mx}",
i$jscomp$1);i$jscomp$3=jsonZoneFile.ptr;i$jscomp$2="";for(var i$jscomp$4 in i$jscomp$3)i$jscomp$2+=(i$jscomp$3[i$jscomp$4].name||"@")+"\t",i$jscomp$3[i$jscomp$4].ttl&&(i$jscomp$2+=i$jscomp$3[i$jscomp$4].ttl+"\t"),i$jscomp$2+="IN\tPTR\t"+i$jscomp$3[i$jscomp$4].host+"\n";template=template.replace("{ptr}",i$jscomp$2);template=processTXT(jsonZoneFile.txt,template);i$jscomp$4=jsonZoneFile.srv;i$jscomp$3="";for(var i$jscomp$5 in i$jscomp$4)i$jscomp$3+=(i$jscomp$4[i$jscomp$5].name||"@")+"\t",i$jscomp$4[i$jscomp$5].ttl&&
(i$jscomp$3+=i$jscomp$4[i$jscomp$5].ttl+"\t"),i$jscomp$3+="IN\tSRV\t"+i$jscomp$4[i$jscomp$5].priority+"\t",i$jscomp$3+=i$jscomp$4[i$jscomp$5].weight+"\t",i$jscomp$3+=i$jscomp$4[i$jscomp$5].port+"\t",i$jscomp$3+=i$jscomp$4[i$jscomp$5].target+"\n";template=template.replace("{srv}",i$jscomp$3);i$jscomp$5=jsonZoneFile.spf;i$jscomp$4="";for(var i$jscomp$6 in i$jscomp$5)i$jscomp$4+=(i$jscomp$5[i$jscomp$6].name||"@")+"\t",i$jscomp$5[i$jscomp$6].ttl&&(i$jscomp$4+=i$jscomp$5[i$jscomp$6].ttl+"\t"),i$jscomp$4+=
"IN\tSPF\t"+i$jscomp$5[i$jscomp$6].data+"\n";template=template.replace("{spf}",i$jscomp$4);i$jscomp$6=jsonZoneFile.uri;i$jscomp$5="";for(var i$jscomp$7 in i$jscomp$6)i$jscomp$5+=(i$jscomp$6[i$jscomp$7].name||"@")+"\t",i$jscomp$6[i$jscomp$7].ttl&&(i$jscomp$5+=i$jscomp$6[i$jscomp$7].ttl+"\t"),i$jscomp$5+="IN\tURI\t"+i$jscomp$6[i$jscomp$7].priority+"\t",i$jscomp$5+=i$jscomp$6[i$jscomp$7].weight+"\t",i$jscomp$5+='"'+i$jscomp$6[i$jscomp$7].target+'"\n';i$jscomp$7=template=template.replace("{uri}",i$jscomp$5);
i$jscomp$7=i$jscomp$7.replace("{zone}",jsonZoneFile.$origin||jsonZoneFile.soa.name||"");i$jscomp$7=i$jscomp$7.replace("{datetime}",(new Date).toISOString());template=i$jscomp$7.replace("{time}",Math.round(Date.now()/1E3));return template.replace(/\n{2,}/gim,"\n\n")};var _zoneFileTemplate=require("module$node_modules$zone_file$lib$zoneFileTemplate"),processTXT=function(data,template){var ret="",i;for(i in data){ret+=(data[i].name||"@")+"\t";data[i].ttl&&(ret+=data[i].ttl+"\t");ret+="IN\tTXT\t";var txtData=
data[i].txt;txtData instanceof String||"string"===typeof txtData?ret+='"'+txtData+'"':txtData instanceof Array&&(ret+=txtData.map(function(datum){return'"'+datum+'"'}).join(" "));ret+="\n"}return template.replace("{txt}",ret)}}
//# sourceMappingURL=module$node_modules$zone_file$lib$makeZoneFile.js.map

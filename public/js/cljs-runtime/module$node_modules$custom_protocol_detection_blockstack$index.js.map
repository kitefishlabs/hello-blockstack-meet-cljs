{
"version":3,
"file":"module$node_modules$custom_protocol_detection_blockstack$index.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/custom-protocol-detection-blockstack/index.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$custom_protocol_detection_blockstack$index\"] = function(global,process,require,module,exports,shadow$shims) {\nfunction _registerEvent(target, eventType, cb) {\r\n    if (target.addEventListener) {\r\n        target.addEventListener(eventType, cb);\r\n        return {\r\n            remove: function () {\r\n                target.removeEventListener(eventType, cb);\r\n            }\r\n        };\r\n    } else {\r\n        target.attachEvent(eventType, cb);\r\n        return {\r\n            remove: function () {\r\n                target.detachEvent(eventType, cb);\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\nfunction _createHiddenIframe(target, uri) {\r\n    var iframe = document.createElement(\"iframe\");\r\n    iframe.src = uri;\r\n    iframe.id = \"hiddenIframe\";\r\n    iframe.style.display = \"none\";\r\n    target.appendChild(iframe);\r\n\r\n    return iframe;\r\n}\r\n\r\nfunction openUriWithHiddenFrame(uri, failCb, successCb) {\r\n\r\n    var timeout = setTimeout(function () {\r\n        failCb();\r\n        handler.remove();\r\n    }, 1000);\r\n\r\n    var iframe = document.querySelector(\"#hiddenIframe\");\r\n    if (!iframe) {\r\n        iframe = _createHiddenIframe(document.body, \"about:blank\");\r\n    }\r\n\r\n    var handler = _registerEvent(window, \"blur\", onBlur);\r\n\r\n    function onBlur() {\r\n        clearTimeout(timeout);\r\n        handler.remove();\r\n        successCb();\r\n    }\r\n\r\n    iframe.contentWindow.location.href = uri;\r\n}\r\n\r\nfunction openUriWithTimeoutHack(uri, failCb, successCb) {\r\n\r\n    var timeout = setTimeout(function () {\r\n        failCb();\r\n        handler.remove();\r\n    }, 1000);\r\n\r\n    //handle page running in an iframe (blur must be registered with top level window)\r\n    var target = window;\r\n    while (target != target.parent) {\r\n        target = target.parent;\r\n    }\r\n\r\n    var handler = _registerEvent(target, \"blur\", onBlur);\r\n\r\n    function onBlur() {\r\n        clearTimeout(timeout);\r\n        handler.remove();\r\n        successCb();\r\n    }\r\n\r\n    window.location = uri;\r\n}\r\n\r\nfunction openUriUsingFirefox(uri, failCb, successCb) {\r\n    var iframe = document.querySelector(\"#hiddenIframe\");\r\n\r\n    if (!iframe) {\r\n        iframe = _createHiddenIframe(document.body, \"about:blank\");\r\n    }\r\n\r\n    try {\r\n        iframe.contentWindow.location.href = uri;\r\n        successCb();\r\n    } catch (e) {\r\n        if (e.name == \"NS_ERROR_UNKNOWN_PROTOCOL\") {\r\n            failCb();\r\n        }\r\n    }\r\n}\r\n\r\nfunction openUriUsingIEInOlderWindows(uri, failCb, successCb) {\r\n    if (getInternetExplorerVersion() === 10) {\r\n        openUriUsingIE10InWindows7(uri, failCb, successCb);\r\n    } else if (getInternetExplorerVersion() === 9 || getInternetExplorerVersion() === 11) {\r\n        openUriWithHiddenFrame(uri, failCb, successCb);\r\n    } else {\r\n        openUriInNewWindowHack(uri, failCb, successCb);\r\n    }\r\n}\r\n\r\nfunction openUriUsingIE10InWindows7(uri, failCb, successCb) {\r\n    var timeout = setTimeout(failCb, 1000);\r\n    window.addEventListener(\"blur\", function () {\r\n        clearTimeout(timeout);\r\n        successCb();\r\n    });\r\n\r\n    var iframe = document.querySelector(\"#hiddenIframe\");\r\n    if (!iframe) {\r\n        iframe = _createHiddenIframe(document.body, \"about:blank\");\r\n    }\r\n    try {\r\n        iframe.contentWindow.location.href = uri;\r\n    } catch (e) {\r\n        failCb();\r\n        clearTimeout(timeout);\r\n    }\r\n}\r\n\r\nfunction openUriInNewWindowHack(uri, failCb, successCb) {\r\n    var myWindow = window.open('', '', 'width=0,height=0');\r\n\r\n    myWindow.document.write(\"<iframe src='\" + uri + \"'></iframe>\");\r\n\r\n    setTimeout(function () {\r\n        try {\r\n            myWindow.location.href;\r\n            myWindow.setTimeout(\"window.close()\", 1000);\r\n            successCb();\r\n        } catch (e) {\r\n            myWindow.close();\r\n            failCb();\r\n        }\r\n    }, 1000);\r\n}\r\n\r\nfunction openUriWithMsLaunchUri(uri, failCb, successCb) {\r\n    navigator.msLaunchUri(uri,\r\n        successCb,\r\n        failCb\r\n    );\r\n}\r\n\r\nfunction checkBrowser() {\r\n    var isOpera = !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\r\n\r\n    function isSafari() {\r\n      var ua = navigator.userAgent.toLowerCase();\r\n      var re = new RegExp(\"safari\");\r\n      var re2 = new RegExp(\"chrome\");\r\n\r\n      return re.exec(ua) && !re2.exec(ua)\r\n    }\r\n\r\n    return {\r\n        isOpera   : isOpera,\r\n        isFirefox : typeof InstallTrigger !== 'undefined',\r\n        isSafari  : isSafari(),\r\n        isChrome  : !!window.chrome && !isOpera,\r\n        isIE      : /*@cc_on!@*/false || !!document.documentMode // At least IE6\r\n    }\r\n}\r\n\r\nfunction getInternetExplorerVersion() {\r\n    var rv = -1;\r\n    if (navigator.appName === \"Microsoft Internet Explorer\") {\r\n        var ua = navigator.userAgent;\r\n        var re = new RegExp(\"MSIE ([0-9]{1,}[\\.0-9]{0,})\");\r\n        if (re.exec(ua) != null)\r\n            rv = parseFloat(RegExp.$1);\r\n    }\r\n    else if (navigator.appName === \"Netscape\") {\r\n        var ua = navigator.userAgent;\r\n        var re = new RegExp(\"Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})\");\r\n        if (re.exec(ua) != null) {\r\n            rv = parseFloat(RegExp.$1);\r\n        }\r\n    }\r\n    return rv;\r\n}\r\n\r\nmodule.exports = function(uri, failCb, successCb, unsupportedCb) {\r\n    function failCallback() {\r\n        failCb && failCb();\r\n    }\r\n\r\n    function successCallback() {\r\n        successCb && successCb();\r\n    }\r\n\r\n    function unsupportedCallback() {\r\n        if (unsupportedCb)\r\n          unsupportedCb();\r\n        else\r\n          failCallback();\r\n    }\r\n\r\n    if (navigator.msLaunchUri) { //for IE and Edge in Win 8 and Win 10\r\n        console.log('openUriWithMsLaunchUri')\r\n        openUriWithMsLaunchUri(uri, failCb, successCb);\r\n    } else {\r\n        var browser = checkBrowser();\r\n\r\n        if (browser.isFirefox) {\r\n            console.log('openUriUsingFirefox')\r\n            openUriUsingFirefox(uri, failCallback, successCallback);\r\n        } else if (browser.isChrome) {\r\n            // Check for ChromeOS\r\n            if (/\\bCrOS\\b/.test(navigator.appVersion)) {\r\n                console.log('unsupported OS')\r\n                unsupportedCallback()\r\n            } else {\r\n                console.log('openUriWithTimeoutHack')\r\n                openUriWithTimeoutHack(uri, failCallback, successCallback);\r\n            }\r\n        } else if (browser.isIE) {\r\n            console.log('openUriUsingIEInOlderWindows')\r\n            openUriUsingIEInOlderWindows(uri, failCallback, successCallback);\r\n        } else {\r\n            console.log('unsupported browser')\r\n            unsupportedCallback()\r\n        }\r\n    }\r\n}\r\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","_registerEvent","target","eventType","cb","addEventListener","remove","removeEventListener","attachEvent","detachEvent","_createHiddenIframe","uri","iframe","document","createElement","src","id","style","display","appendChild","openUriWithHiddenFrame","failCb","successCb","timeout","setTimeout","handler","querySelector","body","window","onBlur","clearTimeout","contentWindow","location","href","openUriWithTimeoutHack","parent","openUriUsingFirefox","e","name","openUriUsingIEInOlderWindows","getInternetExplorerVersion","openUriUsingIE10InWindows7","openUriInNewWindowHack","myWindow","open","write","close","checkBrowser","isOpera","opera","navigator","userAgent","indexOf","InstallTrigger","ua","toLowerCase","re2","re","exec","isFirefox","isSafari","isChrome","chrome","isIE","documentMode","rv","appName","parseFloat","RegExp","$1","module.exports","unsupportedCb","failCallback","successCallback","msLaunchUri","console","log","browser","test","appVersion"]
}

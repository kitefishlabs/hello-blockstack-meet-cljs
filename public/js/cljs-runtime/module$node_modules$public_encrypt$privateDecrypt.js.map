{
"version":3,
"file":"module$node_modules$public_encrypt$privateDecrypt.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/public-encrypt/privateDecrypt.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$public_encrypt$privateDecrypt\"] = function(global,process,require,module,exports,shadow$shims) {\nvar parseKeys = require('parse-asn1')\nvar mgf = require('./mgf')\nvar xor = require('./xor')\nvar BN = require('bn.js')\nvar crt = require('browserify-rsa')\nvar createHash = require('create-hash')\nvar withPublic = require('./withPublic')\nvar Buffer = require('safe-buffer').Buffer\n\nmodule.exports = function privateDecrypt (privateKey, enc, reverse) {\n  var padding\n  if (privateKey.padding) {\n    padding = privateKey.padding\n  } else if (reverse) {\n    padding = 1\n  } else {\n    padding = 4\n  }\n\n  var key = parseKeys(privateKey)\n  var k = key.modulus.byteLength()\n  if (enc.length > k || new BN(enc).cmp(key.modulus) >= 0) {\n    throw new Error('decryption error')\n  }\n  var msg\n  if (reverse) {\n    msg = withPublic(new BN(enc), key)\n  } else {\n    msg = crt(enc, key)\n  }\n  var zBuffer = Buffer.alloc(k - msg.length)\n  msg = Buffer.concat([zBuffer, msg], k)\n  if (padding === 4) {\n    return oaep(key, msg)\n  } else if (padding === 1) {\n    return pkcs1(key, msg, reverse)\n  } else if (padding === 3) {\n    return msg\n  } else {\n    throw new Error('unknown padding')\n  }\n}\n\nfunction oaep (key, msg) {\n  var k = key.modulus.byteLength()\n  var iHash = createHash('sha1').update(Buffer.alloc(0)).digest()\n  var hLen = iHash.length\n  if (msg[0] !== 0) {\n    throw new Error('decryption error')\n  }\n  var maskedSeed = msg.slice(1, hLen + 1)\n  var maskedDb = msg.slice(hLen + 1)\n  var seed = xor(maskedSeed, mgf(maskedDb, hLen))\n  var db = xor(maskedDb, mgf(seed, k - hLen - 1))\n  if (compare(iHash, db.slice(0, hLen))) {\n    throw new Error('decryption error')\n  }\n  var i = hLen\n  while (db[i] === 0) {\n    i++\n  }\n  if (db[i++] !== 1) {\n    throw new Error('decryption error')\n  }\n  return db.slice(i)\n}\n\nfunction pkcs1 (key, msg, reverse) {\n  var p1 = msg.slice(0, 2)\n  var i = 2\n  var status = 0\n  while (msg[i++] !== 0) {\n    if (i >= msg.length) {\n      status++\n      break\n    }\n  }\n  var ps = msg.slice(2, i - 1)\n\n  if ((p1.toString('hex') !== '0002' && !reverse) || (p1.toString('hex') !== '0001' && reverse)) {\n    status++\n  }\n  if (ps.length < 8) {\n    status++\n  }\n  if (status) {\n    throw new Error('decryption error')\n  }\n  return msg.slice(i)\n}\nfunction compare (a, b) {\n  a = Buffer.from(a)\n  b = Buffer.from(b)\n  var dif = 0\n  var len = a.length\n  if (a.length !== b.length) {\n    dif++\n    len = Math.min(a.length, b.length)\n  }\n  var i = -1\n  while (++i < len) {\n    dif += (a[i] ^ b[i])\n  }\n  return dif\n}\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","parseKeys","mgf","xor","BN","crt","createHash","withPublic","Buffer","module.exports","privateKey","enc","reverse","padding","key","k","modulus","byteLength","length","cmp","Error","msg","zBuffer","alloc","concat","iHash","update","digest","hLen","maskedSeed","slice","maskedDb","seed","db","a","from","b","dif","len","Math","min","i","p1","status","ps","toString"]
}

{
"version":3,
"file":"module$node_modules$triplesec$lib$hmac.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/triplesec/lib/hmac.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$triplesec$lib$hmac\"] = function(global,process,require,module,exports,shadow$shims) {\n// Generated by IcedCoffeeScript 108.0.8\n(function() {\n  var HMAC, HMAC_SHA256, SHA256, SHA512, bulk_sign, iced, sign, util, __iced_k, __iced_k_noop,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  iced = require('iced-runtime');\n  __iced_k = __iced_k_noop = function() {};\n\n  SHA512 = require('./sha512').SHA512;\n\n  SHA256 = require('./sha256').SHA256;\n\n  util = require('./util');\n\n  HMAC = (function() {\n    HMAC.outputSize = 512 / 8;\n\n    HMAC.prototype.outputSize = HMAC.outputSize;\n\n    function HMAC(key, klass) {\n      var i, _i, _ref;\n      if (klass == null) {\n        klass = SHA512;\n      }\n      this.key = key.clone();\n      this.hasher = new klass();\n      this.hasherBlockSize = this.hasher.blockSize;\n      this.hasherBlockSizeBytes = this.hasherBlockSize * 4;\n      if (this.key.sigBytes > this.hasherBlockSizeBytes) {\n        this.key = this.hasher.finalize(this.key);\n      }\n      this.key.clamp();\n      this._oKey = this.key.clone();\n      this._iKey = this.key.clone();\n      for (i = _i = 0, _ref = this.hasherBlockSize; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\n        this._oKey.words[i] ^= 0x5c5c5c5c;\n        this._iKey.words[i] ^= 0x36363636;\n      }\n      this._oKey.sigBytes = this._iKey.sigBytes = this.hasherBlockSizeBytes;\n      this.reset();\n    }\n\n    HMAC.prototype.get_output_size = function() {\n      return this.hasher.output_size;\n    };\n\n    HMAC.prototype.reset = function() {\n      return this.hasher.reset().update(this._iKey);\n    };\n\n    HMAC.prototype.update = function(wa) {\n      this.hasher.update(wa);\n      return this;\n    };\n\n    HMAC.prototype.finalize = function(wa) {\n      var innerHash, innerHash2, out;\n      innerHash = this.hasher.finalize(wa);\n      this.hasher.reset();\n      innerHash2 = this._oKey.clone().concat(innerHash);\n      out = this.hasher.finalize(innerHash2);\n      innerHash.scrub();\n      innerHash2.scrub();\n      return out;\n    };\n\n    HMAC.prototype.scrub = function() {\n      this.key.scrub();\n      this._iKey.scrub();\n      return this._oKey.scrub();\n    };\n\n    return HMAC;\n\n  })();\n\n  sign = function(_arg) {\n    var eng, hash_class, input, key, out;\n    key = _arg.key, input = _arg.input, hash_class = _arg.hash_class;\n    eng = new HMAC(key, hash_class);\n    out = eng.finalize(input.clamp());\n    eng.scrub();\n    return out;\n  };\n\n  bulk_sign = function(_arg, cb) {\n    var eng, input, key, klass, progress_hook, res, slice_args, what, ___iced_passed_deferral, __iced_deferrals, __iced_k;\n    __iced_k = __iced_k_noop;\n    ___iced_passed_deferral = iced.findDeferral(arguments);\n    key = _arg.key, input = _arg.input, progress_hook = _arg.progress_hook, klass = _arg.klass, what = _arg.what;\n    klass || (klass = HMAC);\n    what || (what = \"hmac_sha512\");\n    eng = new klass(key);\n    input.clamp();\n    slice_args = {\n      update: function(lo, hi) {\n        return eng.update(input.slice(lo, hi));\n      },\n      finalize: function() {\n        return eng.finalize();\n      },\n      default_n: eng.hasherBlockSize * 1000\n    };\n    (function(_this) {\n      return (function(__iced_k) {\n        __iced_deferrals = new iced.Deferrals(__iced_k, {\n          parent: ___iced_passed_deferral,\n          filename: \"/Users/max/src/keybase/triplesec/src/hmac.iced\"\n        });\n        util.bulk(input.sigBytes, slice_args, {\n          what: what,\n          progress_hook: progress_hook,\n          cb: __iced_deferrals.defer({\n            assign_fn: (function() {\n              return function() {\n                return res = arguments[0];\n              };\n            })(),\n            lineno: 137\n          })\n        });\n        __iced_deferrals._fulfill();\n      });\n    })(this)((function(_this) {\n      return function() {\n        eng.scrub();\n        return cb(res);\n      };\n    })(this));\n  };\n\n  exports.HMAC_SHA256 = HMAC_SHA256 = (function(_super) {\n    __extends(HMAC_SHA256, _super);\n\n    function HMAC_SHA256(key) {\n      HMAC_SHA256.__super__.constructor.call(this, key, SHA256);\n    }\n\n    return HMAC_SHA256;\n\n  })(HMAC);\n\n  exports.HMAC = HMAC;\n\n  exports.sign = sign;\n\n  exports.bulk_sign = bulk_sign;\n\n}).call(this);\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","__hasProp","hasOwnProperty","__extends","child","parent","ctor","constructor","key","call","prototype","__super__","iced","SHA512","SHA256","util","HMAC","klass","_ref","clone","hasher","hasherBlockSize","blockSize","hasherBlockSizeBytes","sigBytes","finalize","clamp","_oKey","_iKey","i","_i","words","reset","outputSize","get_output_size","HMAC.prototype.get_output_size","output_size","HMAC.prototype.reset","update","HMAC.prototype.update","wa","HMAC.prototype.finalize","innerHash","innerHash2","concat","out","scrub","HMAC.prototype.scrub","HMAC_SHA256","_super","sign","_arg","input","eng","hash_class","bulk_sign","cb","res","__iced_deferrals","___iced_passed_deferral","findDeferral","arguments","progress_hook","what","slice_args","lo","hi","slice","default_n","_this","__iced_k","Deferrals","filename","bulk","defer","assign_fn","lineno","_fulfill"]
}

shadow$provide.module$node_modules$triplesec$lib$combine=function(global,process,require,module,exports,shadow$shims){(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};var Concat=require("module$node_modules$triplesec$lib$hmac");var HMAC=Concat.HMAC;var bulk_sign=
Concat.bulk_sign;var SHA512=require("module$node_modules$triplesec$lib$sha512").SHA512;var SHA3=require("module$node_modules$triplesec$lib$sha3").SHA3;var WordArray=require("module$node_modules$triplesec$lib$wordarray").WordArray;var CombineBase=function(){function CombineBase(){this.hasherBlockSize=this.hashers[0].hasherBlockSize;this.hasherBlockSizeBytes=4*this.hasherBlockSize;this.reset()}CombineBase.prototype.reset=function(){var _len;var _ref1=this.hashers;var _i=0;for(_len=_ref1.length;_i<_len;_i++){var h=
_ref1[_i];h.reset()}return this};CombineBase.prototype.update=function(w){var _len;var _ref1=this.hashers;var _i=0;for(_len=_ref1.length;_i<_len;_i++){var h=_ref1[_i];h.update(w)}return this};CombineBase.prototype.scrub=function(){var _len;var _ref1=this.hashers;var _i=0;for(_len=_ref1.length;_i<_len;_i++){var h=_ref1[_i];h.scrub()}return this};CombineBase.prototype.finalize=function(w){var _ref1;var _ref1$jscomp$0=this.hashers;var _i=[];var _len=0;for(_ref1=_ref1$jscomp$0.length;_len<_ref1;_len++){var h=
_ref1$jscomp$0[_len];_i.push(h.finalize(w))}w=_i[0];_ref1=_i.slice(1);_i=0;for(_len=_ref1.length;_i<_len;_i++)h=_ref1[_i],this._coalesce(w,h),h.scrub();return w};return CombineBase}();Concat=function(_super){function Concat(key,klasses){null==klasses&&(klasses=[SHA512,SHA3]);key=key.split(klasses.length);var _i,_len;var _results=[];var i=_i=0;for(_len=klasses.length;_i<_len;i=++_i){var hm=klasses[i];i=key[i];hm=new HMAC(i,hm);i.scrub();_results.push(hm)}this.hashers=_results;Concat.__super__.constructor.call(this)}
__extends(Concat,_super);Concat.get_output_size=function(){return SHA512.output_size+SHA3.output_size};Concat.prototype._coalesce=function(out,h){return out.concat(h)};Concat.prototype.get_output_size=function(){var _len;var tot=0;var _ref1=this.hashers;var _i=0;for(_len=_ref1.length;_i<_len;_i++){var h=_ref1[_i];tot+=h.get_output_size()}return tot};Concat.sign=function(_arg){var key=_arg.key;_arg=_arg.input;return(new Concat(key)).finalize(_arg)};Concat.bulk_sign=function(args,cb){args.klass=Concat;
args.what="HMAC-SHA512-SHA3";return bulk_sign(args,cb)};return Concat}(CombineBase);CombineBase=function(_super){function XOR(key,klasses){null==klasses&&(klasses=[SHA512,SHA3]);var _len;var _results=[];var _i=0;for(_len=klasses.length;_i<_len;_i++){var klass=klasses[_i];_results.push(new HMAC(key,klass))}this.hashers=_results;XOR.__super__.constructor.call(this)}__extends(XOR,_super);XOR.prototype.reset=function(){var _i,_len;XOR.__super__.reset.call(this);var _ref1=this.hashers;var i=_i=0;for(_len=
_ref1.length;_i<_len;i=++_i){var h=_ref1[i];h.update(new WordArray([i]))}return this};XOR.get_output_size=function(){return Math.max(SHA512.output_size,SHA3.output_size)};XOR.prototype._coalesce=function(out,h){return out.xor(h,{})};XOR.prototype.get_output_size=function(){var h;return Math.max.apply(Math,function(){var _len;var _ref1=this.hashers;var _results=[];var _i=0;for(_len=_ref1.length;_i<_len;_i++)h=_ref1[_i],_results.push(h.get_output_size());return _results}.call(this))};XOR.sign=function(_arg){var key=
_arg.key;_arg=_arg.input;return(new XOR(key)).finalize(_arg)};XOR.bulk_sign=function(arg,cb){arg.klass=XOR;arg.what="HMAC-SHA512-XOR-SHA3";return bulk_sign(arg,cb)};return XOR}(CombineBase);exports.Concat=Concat;exports.XOR=CombineBase}).call(this)}
//# sourceMappingURL=module$node_modules$triplesec$lib$combine.js.map

shadow$provide.module$node_modules$blockstack$lib$auth$authProvider=function(global,process,require,module,exports,shadow$shims){Object.defineProperty(exports,"__esModule",{value:!0});exports.getAuthRequestFromURL=function(){var queryDict=_queryString2.default.parse(location.search);return null!==queryDict.authRequest&&void 0!==queryDict.authRequest?queryDict.authRequest.split(_utils.BLOCKSTACK_HANDLER+":").join(""):null};exports.fetchAppManifest=function(authRequest){return new Promise(function(resolve,
reject){if(authRequest){var manifestURI=(0,_jsontokens.decodeToken)(authRequest).payload.manifest_uri;try{_logger.Logger.debug("Fetching manifest from "+manifestURI),fetch(manifestURI).then(function(response){return response.text()}).then(function(responseText){return JSON.parse(responseText)}).then(function(responseJSON){resolve(responseJSON)}).catch(function(e){_logger.Logger.debug(e.stack);reject("Could not fetch manifest.json")})}catch(e){_logger.Logger.debug(e.stack),reject("Could not fetch manifest.json")}}else reject("Invalid auth request")})};
exports.redirectUserToApp=function(authRequest,authResponse){authRequest=(0,_jsontokens.decodeToken)(authRequest).payload.redirect_uri;_logger.Logger.debug(authRequest);if(authRequest)authRequest=(0,_index.updateQueryStringParameter)(authRequest,"authResponse",authResponse);else throw Error("Invalid redirect URI");window.location=authRequest};var _queryString2=(global=require("module$node_modules$query_string$index"))&&global.__esModule?global:{default:global},_jsontokens=require("module$node_modules$jsontokens$lib$index"),
_index=require("module$node_modules$blockstack$lib$index"),_utils=require("module$node_modules$blockstack$lib$utils"),_logger=require("module$node_modules$blockstack$lib$logger")}
//# sourceMappingURL=module$node_modules$blockstack$lib$auth$authProvider.js.map

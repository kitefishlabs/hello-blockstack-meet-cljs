shadow$provide.module$node_modules$url$url=function(global,process,require,module,exports,shadow$shims){function Url(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}var punycode=require("module$node_modules$punycode$punycode"),
util=require("module$node_modules$url$util");exports.parse=urlParse;exports.resolve=function(source,relative){return urlParse(source,!1,!0).resolve(relative)};exports.resolveObject=function(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative};exports.format=function(obj){util.isString(obj)&&(obj=urlParse(obj));return obj instanceof Url?obj.format():Url.prototype.format.call(obj)};exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=
/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;global="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split(""));var autoEscape=["'"].concat(global),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,
"gopher:":!0,"file:":!0},querystring=require("module$node_modules$querystring_es3$index");Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?");queryIndex=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#";url=url.split(queryIndex);url[0]=url[0].replace(/\\/g,"/");url=url.join(queryIndex);queryIndex=url.trim();if(!slashesDenoteHost&&1===url.split("#").length&&
(url=simplePathPattern.exec(queryIndex)))return this.href=this.path=queryIndex,this.pathname=url[1],url[2]?(this.search=url[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this;if(url=protocolPattern.exec(queryIndex)){url=url[0];var lowerProto=url.toLowerCase();this.protocol=lowerProto;queryIndex=queryIndex.substr(url.length)}if(slashesDenoteHost||url||queryIndex.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=
"//"===queryIndex.substr(0,2);!slashes||url&&hostlessProtocol[url]||(queryIndex=queryIndex.substr(2),this.slashes=!0)}if(!hostlessProtocol[url]&&(slashes||url&&!slashedProtocol[url])){slashes=-1;for(slashesDenoteHost=0;slashesDenoteHost<hostEndingChars.length;slashesDenoteHost++)url=queryIndex.indexOf(hostEndingChars[slashesDenoteHost]),-1!==url&&(-1===slashes||url<slashes)&&(slashes=url);slashes=-1===slashes?queryIndex.lastIndexOf("@"):queryIndex.lastIndexOf("@",slashes);-1!==slashes&&(slashesDenoteHost=
queryIndex.slice(0,slashes),queryIndex=queryIndex.slice(slashes+1),this.auth=decodeURIComponent(slashesDenoteHost));slashes=-1;for(slashesDenoteHost=0;slashesDenoteHost<nonHostChars.length;slashesDenoteHost++)url=queryIndex.indexOf(nonHostChars[slashesDenoteHost]),-1!==url&&(-1===slashes||url<slashes)&&(slashes=url);-1===slashes&&(slashes=queryIndex.length);this.host=queryIndex.slice(0,slashes);queryIndex=queryIndex.slice(slashes);this.parseHost();this.hostname=this.hostname||"";slashes="["===this.hostname[0]&&
"]"===this.hostname[this.hostname.length-1];if(!slashes){var hostparts=this.hostname.split(/\./);slashesDenoteHost=0;for(url=hostparts.length;slashesDenoteHost<url;slashesDenoteHost++){var part=hostparts[slashesDenoteHost];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)newpart=127<part.charCodeAt(j)?newpart+"x":newpart+part[j];if(!newpart.match(hostnamePartPattern)){url=hostparts.slice(0,slashesDenoteHost);slashesDenoteHost=hostparts.slice(slashesDenoteHost+
1);if(part=part.match(hostnamePartStart))url.push(part[1]),slashesDenoteHost.unshift(part[2]);slashesDenoteHost.length&&(queryIndex="/"+slashesDenoteHost.join(".")+queryIndex);this.hostname=url.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();slashes||(this.hostname=punycode.toASCII(this.hostname));slashesDenoteHost=this.port?":"+this.port:"";this.host=(this.hostname||"")+slashesDenoteHost;this.href+=this.host;slashes&&(this.hostname=this.hostname.substr(1,
this.hostname.length-2),"/"!==queryIndex[0]&&(queryIndex="/"+queryIndex))}if(!unsafeProtocol[lowerProto])for(slashesDenoteHost=0,url=autoEscape.length;slashesDenoteHost<url;slashesDenoteHost++)slashes=autoEscape[slashesDenoteHost],-1!==queryIndex.indexOf(slashes)&&(part=encodeURIComponent(slashes),part===slashes&&(part=escape(slashes)),queryIndex=queryIndex.split(slashes).join(part));slashesDenoteHost=queryIndex.indexOf("#");-1!==slashesDenoteHost&&(this.hash=queryIndex.substr(slashesDenoteHost),
queryIndex=queryIndex.slice(0,slashesDenoteHost));slashesDenoteHost=queryIndex.indexOf("?");-1!==slashesDenoteHost?(this.search=queryIndex.substr(slashesDenoteHost),this.query=queryIndex.substr(slashesDenoteHost+1),parseQueryString&&(this.query=querystring.parse(this.query)),queryIndex=queryIndex.slice(0,slashesDenoteHost)):parseQueryString&&(this.search="",this.query={});queryIndex&&(this.pathname=queryIndex);slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||
this.search)slashesDenoteHost=this.pathname||"",this.path=slashesDenoteHost+(this.search||"");this.href=this.format();return this};Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=encodeURIComponent(auth),auth=auth.replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=
":"+this.port));this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));auth=this.search||query&&"?"+query||"";protocol&&":"!==protocol.substr(-1)&&(protocol+=":");this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host="");hash&&"#"!==hash.charAt(0)&&(hash="#"+hash);auth&&"?"!==auth.charAt(0)&&(auth="?"+auth);pathname=pathname.replace(/[?#]/g,
function(match){return encodeURIComponent(match)});auth=auth.replace("#","%23");return protocol+host+pathname+auth+hash};Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()};Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0);relative=rel}rel=new Url;for(var tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];rel[tkey]=this[tkey]}rel.hash=relative.hash;if(""===relative.href)return rel.href=
rel.format(),rel;if(relative.slashes&&!relative.protocol){tkeys=Object.keys(relative);for(tk=0;tk<tkeys.length;tk++)tkey=tkeys[tk],"protocol"!==tkey&&(rel[tkey]=relative[tkey]);slashedProtocol[rel.protocol]&&rel.hostname&&!rel.pathname&&(rel.path=rel.pathname="/");rel.href=rel.format();return rel}if(relative.protocol&&relative.protocol!==rel.protocol){if(!slashedProtocol[relative.protocol]){tkeys=Object.keys(relative);for(tk=0;tk<tkeys.length;tk++)tkey=tkeys[tk],rel[tkey]=relative[tkey];rel.href=
rel.format();return rel}rel.protocol=relative.protocol;if(relative.host||hostlessProtocol[relative.protocol])rel.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host="");relative.hostname||(relative.hostname="");""!==relPath[0]&&relPath.unshift("");2>relPath.length&&relPath.unshift("");rel.pathname=relPath.join("/")}rel.search=relative.search;rel.query=relative.query;rel.host=relative.host||
"";rel.auth=relative.auth;rel.hostname=relative.hostname||relative.host;rel.port=relative.port;if(rel.pathname||rel.search)rel.path=(rel.pathname||"")+(rel.search||"");rel.slashes=rel.slashes||relative.slashes;rel.href=rel.format();return rel}tkeys=rel.pathname&&"/"===rel.pathname.charAt(0);var isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),removeAllDots=tkeys=isRelAbs||tkeys||rel.host&&relative.pathname;tk=rel.pathname&&rel.pathname.split("/")||[];relPath=relative.pathname&&
relative.pathname.split("/")||[];if(tkey=rel.protocol&&!slashedProtocol[rel.protocol])rel.hostname="",rel.port=null,rel.host&&(""===tk[0]?tk[0]=rel.host:tk.unshift(rel.host)),rel.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),tkeys=tkeys&&(""===relPath[0]||""===tk[0]);if(isRelAbs)rel.host=relative.host||""===relative.host?relative.host:rel.host,rel.hostname=relative.hostname||
""===relative.hostname?relative.hostname:rel.hostname,rel.search=relative.search,rel.query=relative.query,tk=relPath;else if(relPath.length)tk||(tk=[]),tk.pop(),tk=tk.concat(relPath),rel.search=relative.search,rel.query=relative.query;else if(!util.isNullOrUndefined(relative.search))return tkey&&(rel.hostname=rel.host=tk.shift(),tkey=rel.host&&0<rel.host.indexOf("@")?rel.host.split("@"):!1)&&(rel.auth=tkey.shift(),rel.host=rel.hostname=tkey.shift()),rel.search=relative.search,rel.query=relative.query,
util.isNull(rel.pathname)&&util.isNull(rel.search)||(rel.path=(rel.pathname?rel.pathname:"")+(rel.search?rel.search:"")),rel.href=rel.format(),rel;if(!tk.length)return rel.pathname=null,rel.path=rel.search?"/"+rel.search:null,rel.href=rel.format(),rel;isRelAbs=tk.slice(-1)[0];relPath=(rel.host||relative.host||1<tk.length)&&("."===isRelAbs||".."===isRelAbs)||""===isRelAbs;for(var up=0,i=tk.length;0<=i;i--)isRelAbs=tk[i],"."===isRelAbs?tk.splice(i,1):".."===isRelAbs?(tk.splice(i,1),up++):up&&(tk.splice(i,
1),up--);if(!tkeys&&!removeAllDots)for(;up--;up)tk.unshift("..");!tkeys||""===tk[0]||tk[0]&&"/"===tk[0].charAt(0)||tk.unshift("");relPath&&"/"!==tk.join("/").substr(-1)&&tk.push("");removeAllDots=""===tk[0]||tk[0]&&"/"===tk[0].charAt(0);tkey&&(rel.hostname=rel.host=removeAllDots?"":tk.length?tk.shift():"",tkey=rel.host&&0<rel.host.indexOf("@")?rel.host.split("@"):!1)&&(rel.auth=tkey.shift(),rel.host=rel.hostname=tkey.shift());(tkeys=tkeys||rel.host&&tk.length)&&!removeAllDots&&tk.unshift("");tk.length?
rel.pathname=tk.join("/"):(rel.pathname=null,rel.path=null);util.isNull(rel.pathname)&&util.isNull(rel.search)||(rel.path=(rel.pathname?rel.pathname:"")+(rel.search?rel.search:""));rel.auth=relative.auth||rel.auth;rel.slashes=rel.slashes||relative.slashes;rel.href=rel.format();return rel};Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(port=port[0],":"!==port&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length));host&&(this.hostname=host)}}
//# sourceMappingURL=module$node_modules$url$url.js.map

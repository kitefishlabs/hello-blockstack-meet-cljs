{
"version":3,
"file":"module$node_modules$public_encrypt$publicEncrypt.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/public-encrypt/publicEncrypt.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$public_encrypt$publicEncrypt\"] = function(global,process,require,module,exports,shadow$shims) {\nvar parseKeys = require('parse-asn1')\nvar randomBytes = require('randombytes')\nvar createHash = require('create-hash')\nvar mgf = require('./mgf')\nvar xor = require('./xor')\nvar BN = require('bn.js')\nvar withPublic = require('./withPublic')\nvar crt = require('browserify-rsa')\nvar Buffer = require('safe-buffer').Buffer\n\nmodule.exports = function publicEncrypt (publicKey, msg, reverse) {\n  var padding\n  if (publicKey.padding) {\n    padding = publicKey.padding\n  } else if (reverse) {\n    padding = 1\n  } else {\n    padding = 4\n  }\n  var key = parseKeys(publicKey)\n  var paddedMsg\n  if (padding === 4) {\n    paddedMsg = oaep(key, msg)\n  } else if (padding === 1) {\n    paddedMsg = pkcs1(key, msg, reverse)\n  } else if (padding === 3) {\n    paddedMsg = new BN(msg)\n    if (paddedMsg.cmp(key.modulus) >= 0) {\n      throw new Error('data too long for modulus')\n    }\n  } else {\n    throw new Error('unknown padding')\n  }\n  if (reverse) {\n    return crt(paddedMsg, key)\n  } else {\n    return withPublic(paddedMsg, key)\n  }\n}\n\nfunction oaep (key, msg) {\n  var k = key.modulus.byteLength()\n  var mLen = msg.length\n  var iHash = createHash('sha1').update(Buffer.alloc(0)).digest()\n  var hLen = iHash.length\n  var hLen2 = 2 * hLen\n  if (mLen > k - hLen2 - 2) {\n    throw new Error('message too long')\n  }\n  var ps = Buffer.alloc(k - mLen - hLen2 - 2)\n  var dblen = k - hLen - 1\n  var seed = randomBytes(hLen)\n  var maskedDb = xor(Buffer.concat([iHash, ps, Buffer.alloc(1, 1), msg], dblen), mgf(seed, dblen))\n  var maskedSeed = xor(seed, mgf(maskedDb, hLen))\n  return new BN(Buffer.concat([Buffer.alloc(1), maskedSeed, maskedDb], k))\n}\nfunction pkcs1 (key, msg, reverse) {\n  var mLen = msg.length\n  var k = key.modulus.byteLength()\n  if (mLen > k - 11) {\n    throw new Error('message too long')\n  }\n  var ps\n  if (reverse) {\n    ps = Buffer.alloc(k - mLen - 3, 0xff)\n  } else {\n    ps = nonZero(k - mLen - 3)\n  }\n  return new BN(Buffer.concat([Buffer.from([0, reverse ? 1 : 2]), ps, Buffer.alloc(1), msg], k))\n}\nfunction nonZero (len) {\n  var out = Buffer.allocUnsafe(len)\n  var i = 0\n  var cache = randomBytes(len * 2)\n  var cur = 0\n  var num\n  while (i < len) {\n    if (cur === cache.length) {\n      cache = randomBytes(len * 2)\n      cur = 0\n    }\n    num = cache[cur++]\n    if (num) {\n      out[i++] = num\n    }\n  }\n  return out\n}\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","parseKeys","randomBytes","createHash","mgf","xor","BN","withPublic","crt","Buffer","module.exports","publicKey","msg","reverse","padding","key","k","modulus","byteLength","mLen","length","iHash","update","alloc","digest","hLen","hLen2","Error","ps","dblen","seed","maskedDb","concat","maskedSeed","out","allocUnsafe","len","i","cache","cur","num","from","paddedMsg","cmp"]
}

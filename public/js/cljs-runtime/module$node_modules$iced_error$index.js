shadow$provide.module$node_modules$iced_error$index=function(global,process,require,module,exports,shadow$shims){(function(){var BaseError,make_esc,__slice=[].slice;var util=require("module$node_modules$util$util");var C=require("module$node_modules$iced_runtime$lib$main")["const"];exports.BaseError=BaseError=function(msg,constructor){"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);return this.message=msg||"Error"};util.inherits(BaseError,Error);BaseError.prototype.name=
"BaseError";var to_lower=function(s){return s[0].toUpperCase()+s.slice(1).toLowerCase()};var c_to_camel=function(s){var _len;var _ref=s.split(/_/);var _results=[];var _i=0;for(_len=_ref.length;_i<_len;_i++)s=_ref[_i],_results.push(to_lower(s));return _results.join("")};var make_error_klass=function(k,code,default_msg){var ctor=function(msg){BaseError.call(this,msg||default_msg,this.constructor);this.istack=[];this.code=code;return this};util.inherits(ctor,BaseError);ctor.prototype.name=k;ctor.prototype.inspect=
function(){return"["+k+": "+this.message+" (code "+this.code+")]"};return ctor};var copy_trace=function(src,dst){dst[C.trace]=src[C.trace];return dst};exports.make_errors=function(d){var k;var out={msg:{},name:{},code:{}};d.OK="Success";var errno=100;for(k in d){var msg=d[k];if("OK"!==k){var enam=c_to_camel(k)+"Error";var val=errno++;out[enam]=make_error_klass(enam,val,msg)}else val=0;out[k]=val;out.msg[k]=out.msg[val]=msg;out.name[k]=out.name[val]=k;out.code[k]=val}return out};var ipush=function(e,
msg){if(null!=msg)return null==e.istack&&(e.istack=[]),e.istack.push(msg)};exports.make_esc=make_esc=function(gcb,where){var _ref;null==where&&(where=null!=(_ref=make_esc.caller)?_ref.name:void 0);return function(lcb){return copy_trace(lcb,function(){var err=arguments[0];var args=2<=arguments.length?__slice.call(arguments,1):[];if(null==err)return lcb.apply(null,args);if(!gcb.__esc)return gcb.__esc=!0,ipush(err,null!=where?where:"unnamed error"),gcb(err)})}};exports.EscOk=function(){function EscOk(gcb,
where){this.gcb=gcb;this.where=where}EscOk.prototype.bailout=function(){if(this.gcb){var t=this.gcb;this.gcb=null;return t(!1)}};EscOk.prototype.check_ok=function(cb){return copy_trace(cb,function(_this){return function(){var ok=arguments[0];var args=2<=arguments.length?__slice.call(arguments,1):[];return ok?cb.apply(null,args):_this.bailout()}}(this))};EscOk.prototype.check_err=function(cb){return copy_trace(cb,function(_this){return function(){var err=arguments[0];var args=2<=arguments.length?__slice.call(arguments,
1):[];return null!=err?(ipush(err,_this.where),_this.bailout()):cb.apply(null,args)}}(this))};EscOk.prototype.check_non_null=function(cb){return copy_trace(cb,function(_this){return function(){var args=1<=arguments.length?__slice.call(arguments,0):[];return null==args[0]?_this.bailout():cb.apply(null,args)}}(this))};return EscOk}();exports.EscErr=function(){function EscErr(gcb,where){this.gcb=gcb;this.where=where}EscErr.prototype.finish=function(err){if(this.gcb){var t=this.gcb;this.gcb=null;return t(err)}};
EscErr.prototype.check_ok=function(cb,eclass,emsg){null==eclass&&(eclass=Error);null==emsg&&(emsg=null);return copy_trace(cb,function(){var ok=arguments[0];var args=2<=arguments.length?__slice.call(arguments,1):[];if(ok)return cb.apply(null,args);args=new eclass(emsg);ipush(args,this.where);return this.finish(args)})};EscErr.prototype.check_err=function(cb){return copy_trace(cb,function(){var err=arguments[0];var args=2<=arguments.length?__slice.call(arguments,1):[];return null!=err?(ipush(err,this.where),
this.finish(err)):cb.apply(null,args)})};return EscErr}();exports.Canceler=function(){function Canceler(klass){this.klass=null!=klass?klass:Error;this._canceled=!1}Canceler.prototype.is_canceled=function(){return this._canceled};Canceler.prototype.is_ok=function(){return!this._canceled};Canceler.prototype.cancel=function(){return this._canceled=!0};Canceler.prototype.err=function(){return this._canceled?new this.klass("Aborted"):null};return Canceler}();exports.chain=function(cb,f){return function(){var args=
1<=arguments.length?__slice.call(arguments,0):[];return f(function(){return cb.apply(null,args)})}};exports.chain_err=function(cb,f){return function(){var args0=1<=arguments.length?__slice.call(arguments,0):[];return f(function(){var args1=1<=arguments.length?__slice.call(arguments,0):[];return cb.apply(null,null!=args1[0]&&null==args0[0]?args1:args0)})}}}).call(this)}
//# sourceMappingURL=module$node_modules$iced_error$index.js.map

shadow$provide.module$node_modules$css_select$lib$compile=function(global,process,require,module,exports,shadow$shims){function wrap(next){return function(elem){return isTag(elem)&&next(elem)}}function compileUnsafe(selector,options,context){selector=parse(selector,options);return compileToken(selector,options,context)}function includesScopePseudo(t){return"pseudo"===t.type&&("scope"===t.name||Array.isArray(t.data)&&t.data.some(function(data){return data.some(includesScopePseudo)}))}function absolutize(token,
context){var hasContext=!!context&&!!context.length&&context.every(function(e){return e===PLACEHOLDER_ELEMENT||!!getParent(e)});token.forEach(function(t){if(!(0<t.length&&isTraversal(t[0])&&"descendant"!==t[0].type))if(hasContext&&!includesScopePseudo(t))t.unshift(DESCENDANT_TOKEN);else return;t.unshift(SCOPE_TOKEN)})}function compileToken(token,options,context){token=token.filter(function(t){return 0<t.length});token.forEach(sortRules);var isArrayContext=Array.isArray(context);(context=options&&
options.context||context)&&!isArrayContext&&(context=[context]);absolutize(token,context);return token.map(function(rules){return compileRules(rules,options,context,isArrayContext)}).reduce(reduceRules,falseFunc)}function isTraversal(t){return 0>procedure[t.type]}function compileRules(rules,options,context,isArrayContext){var acceptSelf=isArrayContext&&"scope"===rules[0].name&&"descendant"===rules[1].type;return rules.reduce(function(func,rule,index){return func===falseFunc?func:Rules[rule.type](func,
rule,options,context,acceptSelf&&1===index)},options&&options.rootFunc||trueFunc)}function reduceRules(a,b){return b===falseFunc||a===trueFunc?a:a===falseFunc||b===trueFunc?b:function(elem){return a(elem)||b(elem)}}function containsTraversal(t){return t.some(isTraversal)}module.exports=function(selector,options,context){selector=compileUnsafe(selector,options,context);return wrap(selector)};module.exports.compileUnsafe=compileUnsafe;module.exports.compileToken=compileToken;var parse=require("module$node_modules$css_what$index");
global=require("module$node_modules$domutils$index");var isTag=global.isTag,Rules=require("module$node_modules$css_select$lib$general"),sortRules=require("module$node_modules$css_select$lib$sort");process=require("module$node_modules$boolbase$index");var trueFunc=process.trueFunc,falseFunc=process.falseFunc,procedure=require("module$node_modules$css_select$lib$procedure_json"),DESCENDANT_TOKEN={type:"descendant"},SCOPE_TOKEN={type:"pseudo",name:"scope"},PLACEHOLDER_ELEMENT={},getParent=global.getParent;
require=require("module$node_modules$css_select$lib$pseudos").filters;var existsOne=global.existsOne;isTag=global.isTag;var getChildren=global.getChildren;require.not=function(next,token,options,context){options={xmlMode:!(!options||!options.xmlMode),strict:!(!options||!options.strict)};if(options.strict&&(1<token.length||token.some(containsTraversal)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var func=compileToken(token,options,context);return func===falseFunc?
next:func===trueFunc?falseFunc:function(elem){return!func(elem)&&next(elem)}};require.has=function(next,token,options){options={xmlMode:!(!options||!options.xmlMode),strict:!(!options||!options.strict)};var context=token.some(containsTraversal)?[PLACEHOLDER_ELEMENT]:null,func=compileToken(token,options,context);if(func===falseFunc)return falseFunc;if(func===trueFunc)return function(elem){return getChildren(elem).some(isTag)&&next(elem)};func=wrap(func);return context?function(elem){return next(elem)&&
(context[0]=elem,existsOne(func,getChildren(elem)))}:function(elem){return next(elem)&&existsOne(func,getChildren(elem))}};require.matches=function(next,token,options,context){return compileToken(token,{xmlMode:!(!options||!options.xmlMode),strict:!(!options||!options.strict),rootFunc:next},context)}}
//# sourceMappingURL=module$node_modules$css_select$lib$compile.js.map

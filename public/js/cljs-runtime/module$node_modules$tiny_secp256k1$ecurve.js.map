{
"version":3,
"file":"module$node_modules$tiny_secp256k1$ecurve.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/tiny-secp256k1/ecurve.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$tiny_secp256k1$ecurve\"] = function(global,process,require,module,exports,shadow$shims) {\nconst BN = require('bn.js')\nconst EC = require('elliptic').ec\nconst secp256k1 = new EC('secp256k1')\nconst deterministicGenerateK = require('./rfc6979')\n\nconst ZERO32 = Buffer.alloc(32, 0)\nconst EC_GROUP_ORDER = Buffer.from('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141', 'hex')\nconst EC_P = Buffer.from('fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f', 'hex')\n\nconst n = secp256k1.curve.n\nconst nDiv2 = n.shrn(1)\nconst G = secp256k1.curve.g\n\nconst THROW_BAD_PRIVATE = 'Expected Private'\nconst THROW_BAD_POINT = 'Expected Point'\nconst THROW_BAD_TWEAK = 'Expected Tweak'\nconst THROW_BAD_HASH = 'Expected Hash'\nconst THROW_BAD_SIGNATURE = 'Expected Signature'\n\nfunction isScalar (x) {\n  return Buffer.isBuffer(x) && x.length === 32\n}\n\nfunction isOrderScalar (x) {\n  if (!isScalar(x)) return false\n  return x.compare(EC_GROUP_ORDER) < 0 // < G\n}\n\nfunction isPoint (p) {\n  if (!Buffer.isBuffer(p)) return false\n  if (p.length < 33) return false\n\n  const t = p[0]\n  const x = p.slice(1, 33)\n  if (x.compare(ZERO32) === 0) return false\n  if (x.compare(EC_P) >= 0) return false\n  if ((t === 0x02 || t === 0x03) && p.length === 33) return true\n\n  const y = p.slice(33)\n  if (y.compare(ZERO32) === 0) return false\n  if (y.compare(EC_P) >= 0) return false\n  if (t === 0x04 && p.length === 65) return true\n  return false\n}\n\nfunction __isPointCompressed (p) {\n  return p[0] !== 0x04\n}\n\nfunction isPointCompressed (p) {\n  if (!isPoint(p)) return false\n  return __isPointCompressed(p)\n}\n\nfunction isPrivate (x) {\n  if (!isScalar(x)) return false\n  return x.compare(ZERO32) > 0 && // > 0\n    x.compare(EC_GROUP_ORDER) < 0 // < G\n}\n\nfunction isSignature (value) {\n  const r = value.slice(0, 32)\n  const s = value.slice(32, 64)\n  return Buffer.isBuffer(value) && value.length === 64 &&\n    r.compare(EC_GROUP_ORDER) < 0 &&\n    s.compare(EC_GROUP_ORDER) < 0\n}\n\nfunction assumeCompression (value, pubkey) {\n  if (value === undefined && pubkey !== undefined) return __isPointCompressed(pubkey)\n  if (value === undefined) return true\n  return value\n}\n\nfunction fromBuffer (d) { return new BN(d) }\nfunction toBuffer (d) { return d.toArrayLike(Buffer, 'be', 32) }\nfunction decodeFrom (P) { return secp256k1.curve.decodePoint(P) }\nfunction getEncoded (P, compressed) { return Buffer.from(P._encode(compressed)) }\n\nfunction pointAdd (pA, pB, __compressed) {\n  if (!isPoint(pA)) throw new TypeError(THROW_BAD_POINT)\n  if (!isPoint(pB)) throw new TypeError(THROW_BAD_POINT)\n\n  const a = decodeFrom(pA)\n  const b = decodeFrom(pB)\n  const pp = a.add(b)\n  if (pp.isInfinity()) return null\n\n  const compressed = assumeCompression(__compressed, pA)\n  return getEncoded(pp, compressed)\n}\n\nfunction pointAddScalar (p, tweak, __compressed) {\n  if (!isPoint(p)) throw new TypeError(THROW_BAD_POINT)\n  if (!isOrderScalar(tweak)) throw new TypeError(THROW_BAD_TWEAK)\n\n  const compressed = assumeCompression(__compressed, p)\n  const pp = decodeFrom(p)\n  if (tweak.compare(ZERO32) === 0) return getEncoded(pp, compressed)\n\n  const tt = fromBuffer(tweak)\n  const qq = G.mul(tt)\n  const uu = pp.add(qq)\n  if (uu.isInfinity()) return null\n\n  return getEncoded(uu, compressed)\n}\n\nfunction pointCompress (p, compressed) {\n  if (!isPoint(p)) throw new TypeError(THROW_BAD_POINT)\n\n  const pp = decodeFrom(p)\n  if (pp.isInfinity()) throw new TypeError(THROW_BAD_POINT)\n\n  return getEncoded(pp, compressed)\n}\n\nfunction pointFromScalar (d, __compressed) {\n  if (!isPrivate(d)) throw new TypeError(THROW_BAD_PRIVATE)\n\n  const dd = fromBuffer(d)\n  const pp = G.mul(dd)\n  if (pp.isInfinity()) return null\n\n  const compressed = assumeCompression(__compressed)\n  return getEncoded(pp, compressed)\n}\n\nfunction pointMultiply (p, tweak, __compressed) {\n  if (!isPoint(p)) throw new TypeError(THROW_BAD_POINT)\n  if (!isOrderScalar(tweak)) throw new TypeError(THROW_BAD_TWEAK)\n\n  const compressed = assumeCompression(__compressed, p)\n  const pp = decodeFrom(p)\n  const tt = fromBuffer(tweak)\n  const qq = pp.mul(tt)\n  if (qq.isInfinity()) return null\n\n  return getEncoded(qq, compressed)\n}\n\nfunction privateAdd (d, tweak) {\n  if (!isPrivate(d)) throw new TypeError(THROW_BAD_PRIVATE)\n  if (!isOrderScalar(tweak)) throw new TypeError(THROW_BAD_TWEAK)\n\n  const dd = fromBuffer(d)\n  const tt = fromBuffer(tweak)\n  const dt = toBuffer(dd.add(tt).umod(n))\n  if (!isPrivate(dt)) return null\n\n  return dt\n}\n\nfunction privateSub (d, tweak) {\n  if (!isPrivate(d)) throw new TypeError(THROW_BAD_PRIVATE)\n  if (!isOrderScalar(tweak)) throw new TypeError(THROW_BAD_TWEAK)\n\n  const dd = fromBuffer(d)\n  const tt = fromBuffer(tweak)\n  const dt = toBuffer(dd.sub(tt).umod(n))\n  if (!isPrivate(dt)) return null\n\n  return dt\n}\n\nfunction sign (hash, x) {\n  if (!isScalar(hash)) throw new TypeError(THROW_BAD_HASH)\n  if (!isPrivate(x)) throw new TypeError(THROW_BAD_PRIVATE)\n\n  const d = fromBuffer(x)\n  const e = fromBuffer(hash)\n\n  let r, s\n  deterministicGenerateK(hash, x, function (k) {\n    const kI = fromBuffer(k)\n    const Q = G.mul(kI)\n\n    if (Q.isInfinity()) return false\n\n    r = Q.x.umod(n)\n    if (r.isZero() === 0) return false\n\n    s = kI\n      .invm(n)\n      .mul(e.add(d.mul(r)))\n      .umod(n)\n    if (s.isZero() === 0) return false\n\n    return true\n  }, isPrivate)\n\n  // enforce low S values, see bip62: 'low s values in signatures'\n  if (s.cmp(nDiv2) > 0) {\n    s = n.sub(s)\n  }\n\n  const buffer = Buffer.allocUnsafe(64)\n  toBuffer(r).copy(buffer, 0)\n  toBuffer(s).copy(buffer, 32)\n  return buffer\n}\n\nfunction verify (hash, q, signature) {\n  if (!isScalar(hash)) throw new TypeError(THROW_BAD_HASH)\n  if (!isPoint(q)) throw new TypeError(THROW_BAD_POINT)\n\n  // 1.4.1 Enforce r and s are both integers in the interval [1, n \u2212 1] (1, isSignature enforces '< n - 1')\n  if (!isSignature(signature)) throw new TypeError(THROW_BAD_SIGNATURE)\n\n  const Q = decodeFrom(q)\n  const r = fromBuffer(signature.slice(0, 32))\n  const s = fromBuffer(signature.slice(32, 64))\n\n  // 1.4.1 Enforce r and s are both integers in the interval [1, n \u2212 1] (2, enforces '> 0')\n  if (r.gtn(0) <= 0 /* || r.compareTo(n) >= 0 */) return false\n  if (s.gtn(0) <= 0 /* || s.compareTo(n) >= 0 */) return false\n\n  // 1.4.2 H = Hash(M), already done by the user\n  // 1.4.3 e = H\n  const e = fromBuffer(hash)\n\n  // Compute s^-1\n  const sInv = s.invm(n)\n\n  // 1.4.4 Compute u1 = es^\u22121 mod n\n  //               u2 = rs^\u22121 mod n\n  const u1 = e.mul(sInv).umod(n)\n  const u2 = r.mul(sInv).umod(n)\n\n  // 1.4.5 Compute R = (xR, yR)\n  //               R = u1G + u2Q\n  const R = G.mulAdd(u1, Q, u2)\n\n  // 1.4.5 (cont.) Enforce R is not at infinity\n  if (R.isInfinity()) return false\n\n  // 1.4.6 Convert the field element R.x to an integer\n  const xR = R.x\n\n  // 1.4.7 Set v = xR mod n\n  const v = xR.umod(n)\n\n  // 1.4.8 If v = r, output \"valid\", and if v != r, output \"invalid\"\n  return v.eq(r)\n}\n\nmodule.exports = {\n  isPoint,\n  isPointCompressed,\n  isPrivate,\n  pointAdd,\n  pointAddScalar,\n  pointCompress,\n  pointFromScalar,\n  pointMultiply,\n  privateAdd,\n  privateSub,\n  sign,\n  verify\n}\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","isScalar","x","Buffer","isBuffer","length","isOrderScalar","compare","EC_GROUP_ORDER","isPoint","p","t","slice","ZERO32","EC_P","y","isPrivate","assumeCompression","value","pubkey","undefined","fromBuffer","d","BN","toBuffer","toArrayLike","getEncoded","P","compressed","from","_encode","secp256k1","ec","deterministicGenerateK","alloc","n","curve","nDiv2","shrn","G","g","isPointCompressed","pointAdd","pA","pB","__compressed","TypeError","THROW_BAD_POINT","a","decodePoint","b","pp","add","isInfinity","pointAddScalar","tweak","THROW_BAD_TWEAK","tt","qq","mul","uu","pointCompress","pointFromScalar","THROW_BAD_PRIVATE","dd","pointMultiply","privateAdd","dt","umod","privateSub","sub","sign","hash","THROW_BAD_HASH","e","r","s","k","kI","Q","isZero","invm","cmp","buffer","allocUnsafe","copy","verify","q","signature","THROW_BAD_SIGNATURE","gtn","sInv","u1","u2","R","mulAdd","v","eq"]
}

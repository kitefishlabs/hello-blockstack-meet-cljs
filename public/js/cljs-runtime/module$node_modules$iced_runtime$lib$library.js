shadow$provide.module$node_modules$iced_runtime$lib$library=function(global,process,require,module,exports,shadow$shims){(function(){var iced,__slice=[].slice;var C=require("module$node_modules$iced_runtime$lib$const");exports.iced=iced=require("module$node_modules$iced_runtime$lib$runtime");var _timeout=function(cb,t,res,tmp){var arr,which,__iced_deferrals;var ___iced_passed_deferral=iced.findDeferral(arguments);var rv=new iced.Rendezvous;tmp[0]=rv.id(!0).defer({assign_fn:function(_this){return function(){return function(){return arr=
__slice.call(arguments,0)}}}(this)(),lineno:20,context:__iced_deferrals});setTimeout(rv.id(!1).defer({lineno:21,context:__iced_deferrals}),t);(function(_this){return function(__iced_k){__iced_deferrals=new iced.Deferrals(__iced_k,{parent:___iced_passed_deferral,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"});rv.wait(__iced_deferrals.defer({assign_fn:function(){return function(JSCompiler_OptimizeArgumentsArray_p2){return which=JSCompiler_OptimizeArgumentsArray_p2}}(),lineno:22}));__iced_deferrals._fulfill()}})(this)(function(_this){return function(){res&&
(res[0]=which);return cb.apply(null,arr)}}(this))};exports.timeout=function(cb,t,res){var tmp=[];_timeout(cb,t,res,tmp);return tmp[0]};var _iand=function(cb,res,tmp){var ok,__iced_deferrals;var ___iced_passed_deferral=iced.findDeferral(arguments);(function(_this){return function(__iced_k){__iced_deferrals=new iced.Deferrals(__iced_k,{parent:___iced_passed_deferral,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"});tmp[0]=__iced_deferrals.defer({assign_fn:function(){return function(JSCompiler_OptimizeArgumentsArray_p3){return ok=
JSCompiler_OptimizeArgumentsArray_p3}}(),lineno:39});__iced_deferrals._fulfill()}})(this)(function(_this){return function(){ok||(res[0]=!1);return cb()}}(this))};exports.iand=function(cb,res){var tmp=[];_iand(cb,res,tmp);return tmp[0]};var _ior=function(cb,res,tmp){var ok,__iced_deferrals;var ___iced_passed_deferral=iced.findDeferral(arguments);(function(_this){return function(__iced_k){__iced_deferrals=new iced.Deferrals(__iced_k,{parent:___iced_passed_deferral,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"});
tmp[0]=__iced_deferrals.defer({assign_fn:function(){return function(JSCompiler_OptimizeArgumentsArray_p4){return ok=JSCompiler_OptimizeArgumentsArray_p4}}(),lineno:58});__iced_deferrals._fulfill()}})(this)(function(_this){return function(){ok&&(res[0]=!0);return cb()}}(this))};exports.ior=function(cb,res){var tmp=[];_ior(cb,res,tmp);return tmp[0]};exports.Pipeliner=function(){function Pipeliner(window,delay){this.window=window||1;this.delay=delay||0;this.queue=[];this.n_out=0;this.cb=null;this[C.deferrals]=
this;this.defer=this._defer}Pipeliner.prototype.waitInQueue=function(cb){var __iced_deferrals;var ___iced_passed_deferral=iced.findDeferral(arguments);(function(_this){return function(__iced_k$jscomp$0){var _while=function(__iced_k){var _next=function(){return iced.trampoline(function(){return _while(__iced_k)})};if(_this.n_out>=_this.window)__iced_deferrals=new iced.Deferrals(_next,{parent:___iced_passed_deferral,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.waitInQueue"}),
_this.cb=__iced_deferrals.defer({lineno:100}),__iced_deferrals._fulfill();else return __iced_k()};_while(__iced_k$jscomp$0)}})(this)(function(_this){return function(){_this.n_out++;(function(__iced_k){if(_this.delay)__iced_deferrals=new iced.Deferrals(__iced_k,{parent:___iced_passed_deferral,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.waitInQueue"}),setTimeout(__iced_deferrals.defer({lineno:108}),_this.delay),__iced_deferrals._fulfill();else return __iced_k()})(function(){return cb()})}}(this))};
Pipeliner.prototype.__defer=function(out,deferArgs){var tmp,voidCb,__iced_deferrals;var ___iced_passed_deferral=iced.findDeferral(arguments);(function(_this){return function(__iced_k){__iced_deferrals=new iced.Deferrals(__iced_k,{parent:___iced_passed_deferral,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.__defer"});voidCb=__iced_deferrals.defer({lineno:122});out[0]=function(){var _ref;var args=1<=arguments.length?__slice.call(arguments,0):[];null!=(_ref=deferArgs.assign_fn)&&
_ref.apply(null,args);return voidCb()};__iced_deferrals._fulfill()}})(this)(function(_this){return function(){_this.n_out--;if(_this.cb)return tmp=_this.cb,_this.cb=null,tmp()}}(this))};Pipeliner.prototype._defer=function(deferArgs){var tmp=[];this.__defer(tmp,deferArgs);return tmp[0]};Pipeliner.prototype.flush=function(autocb){var __iced_k$jscomp$0=autocb;var ___iced_passed_deferral=iced.findDeferral(arguments);var _while=function(_this){var __iced_deferrals;return function(__iced_k){var _next=function(){return iced.trampoline(function(){return _while(__iced_k)})};
if(_this.n_out)__iced_deferrals=new iced.Deferrals(_next,{parent:___iced_passed_deferral,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.flush"}),_this.cb=__iced_deferrals.defer({lineno:151}),__iced_deferrals._fulfill();else return __iced_k()}}(this);_while(__iced_k$jscomp$0)};return Pipeliner}()}).call(this)}
//# sourceMappingURL=module$node_modules$iced_runtime$lib$library.js.map

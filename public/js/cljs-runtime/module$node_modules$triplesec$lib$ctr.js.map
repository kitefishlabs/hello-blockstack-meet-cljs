{
"version":3,
"file":"module$node_modules$triplesec$lib$ctr.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/triplesec/lib/ctr.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$triplesec$lib$ctr\"] = function(global,process,require,module,exports,shadow$shims) {\n// Generated by IcedCoffeeScript 108.0.8\n(function() {\n  var Cipher, Counter, StreamCipher, WordArray, bulk_encrypt, encrypt, iced, __iced_k, __iced_k_noop,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  iced = require('iced-runtime');\n  __iced_k = __iced_k_noop = function() {};\n\n  WordArray = require('./wordarray').WordArray;\n\n  StreamCipher = require('./algbase').StreamCipher;\n\n  Counter = (function() {\n    Counter.prototype.WORD_MAX = 0xffffffff;\n\n    function Counter(_arg) {\n      var i, len, value;\n      value = _arg.value, len = _arg.len;\n      this._value = value != null ? value.clone() : (len == null ? len = 2 : void 0, new WordArray((function() {\n        var _i, _results;\n        _results = [];\n        for (i = _i = 0; 0 <= len ? _i < len : _i > len; i = 0 <= len ? ++_i : --_i) {\n          _results.push(0);\n        }\n        return _results;\n      })()));\n    }\n\n    Counter.prototype.inc = function() {\n      var go, i;\n      go = true;\n      i = this._value.words.length - 1;\n      while (go && i >= 0) {\n        if ((++this._value.words[i]) > Counter.WORD_MAX) {\n          this._value.words[i] = 0;\n        } else {\n          go = false;\n        }\n        i--;\n      }\n      return this;\n    };\n\n    Counter.prototype.inc_le = function() {\n      var go, i;\n      go = true;\n      i = 0;\n      while (go && i < this._value.words.length) {\n        if ((++this._value.words[i]) > Counter.WORD_MAX) {\n          this._value.words[i] = 0;\n        } else {\n          go = false;\n        }\n        i++;\n      }\n      return this;\n    };\n\n    Counter.prototype.get = function() {\n      return this._value;\n    };\n\n    Counter.prototype.copy = function() {\n      return this._value.clone();\n    };\n\n    return Counter;\n\n  })();\n\n  Cipher = (function(_super) {\n    __extends(Cipher, _super);\n\n    function Cipher(_arg) {\n      this.block_cipher = _arg.block_cipher, this.iv = _arg.iv;\n      Cipher.__super__.constructor.call(this);\n      this.bsiw = this.block_cipher.blockSize / 4;\n      if (!(this.iv.sigBytes === this.block_cipher.blockSize)) {\n        throw new Error(\"IV is wrong length (\" + this.iv.sigBytes + \")\");\n      }\n      this.ctr = new Counter({\n        value: this.iv\n      });\n    }\n\n    Cipher.prototype.scrub = function() {\n      return this.block_cipher.scrub();\n    };\n\n    Cipher.prototype.get_pad = function() {\n      var pad;\n      pad = this.ctr.copy();\n      this.ctr.inc();\n      this.block_cipher.encryptBlock(pad.words);\n      return pad;\n    };\n\n    return Cipher;\n\n  })(StreamCipher);\n\n  encrypt = function(_arg) {\n    var block_cipher, cipher, input, iv, ret;\n    block_cipher = _arg.block_cipher, iv = _arg.iv, input = _arg.input;\n    cipher = new Cipher({\n      block_cipher: block_cipher,\n      iv: iv\n    });\n    ret = cipher.encrypt(input);\n    cipher.scrub();\n    return ret;\n  };\n\n  bulk_encrypt = function(_arg, cb) {\n    var block_cipher, cipher, input, iv, progress_hook, ret, what, ___iced_passed_deferral, __iced_deferrals, __iced_k;\n    __iced_k = __iced_k_noop;\n    ___iced_passed_deferral = iced.findDeferral(arguments);\n    block_cipher = _arg.block_cipher, iv = _arg.iv, input = _arg.input, progress_hook = _arg.progress_hook, what = _arg.what;\n    cipher = new Cipher({\n      block_cipher: block_cipher,\n      iv: iv\n    });\n    (function(_this) {\n      return (function(__iced_k) {\n        __iced_deferrals = new iced.Deferrals(__iced_k, {\n          parent: ___iced_passed_deferral,\n          filename: \"/Users/max/src/keybase/triplesec/src/ctr.iced\"\n        });\n        cipher.bulk_encrypt({\n          input: input,\n          progress_hook: progress_hook,\n          what: what\n        }, __iced_deferrals.defer({\n          assign_fn: (function() {\n            return function() {\n              return ret = arguments[0];\n            };\n          })(),\n          lineno: 121\n        }));\n        __iced_deferrals._fulfill();\n      });\n    })(this)((function(_this) {\n      return function() {\n        return cb(ret);\n      };\n    })(this));\n  };\n\n  exports.Counter = Counter;\n\n  exports.Cipher = Cipher;\n\n  exports.encrypt = encrypt;\n\n  exports.bulk_encrypt = bulk_encrypt;\n\n}).call(this);\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","__hasProp","hasOwnProperty","__extends","child","parent","ctor","constructor","key","call","prototype","__super__","iced","WordArray","StreamCipher","Counter","_arg","value","len","_results","_i","push","_value","WORD_MAX","inc","Counter.prototype.inc","i","go","words","length","inc_le","Counter.prototype.inc_le","get","Counter.prototype.get","copy","Counter.prototype.copy","clone","Cipher","_super","block_cipher","iv","bsiw","blockSize","sigBytes","Error","ctr","scrub","Cipher.prototype.scrub","get_pad","Cipher.prototype.get_pad","pad","encryptBlock","encrypt","input","cipher","ret","bulk_encrypt","cb","__iced_deferrals","___iced_passed_deferral","findDeferral","arguments","progress_hook","what","_this","__iced_k","Deferrals","filename","defer","assign_fn","lineno","_fulfill"]
}

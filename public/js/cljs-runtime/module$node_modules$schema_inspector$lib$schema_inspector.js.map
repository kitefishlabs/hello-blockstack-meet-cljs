{
"version":3,
"file":"module$node_modules$schema_inspector$lib$schema_inspector.js",
"lineCount":61,
"mappings":"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",
"sources":["node_modules/schema-inspector/lib/schema-inspector.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$schema_inspector$lib$schema_inspector\"] = function(global,process,require,module,exports,shadow$shims) {\n/*\n * This module is intended to be executed both on client side and server side.\n * No error should be thrown. (soft error handling)\n */\n\n(function () {\n\tvar root = {};\n\t// Dependencies --------------------------------------------------------------\n\troot.async = (typeof require === 'function') ? require('async') : window.async;\n\tif (typeof root.async !== 'object') {\n\t\tthrow new Error('Module async is required (https://github.com/caolan/async)');\n\t}\n\tvar async = root.async;\n\n\tfunction _extend(origin, add) {\n\t\tif (!add || typeof add !== 'object') {\n\t\t\treturn origin;\n\t\t}\n\t\tvar keys = Object.keys(add);\n\t\tvar i = keys.length;\n\t\twhile (i--) {\n\t\t\torigin[keys[i]] = add[keys[i]];\n\t\t}\n\t\treturn origin;\n\t}\n\n\tfunction _merge() {\n\t\tvar ret = {};\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\tvar keys = null;\n\t\tvar i = null;\n\n\t\targs.forEach(function (arg) {\n\t\t\tif (arg && arg.constructor === Object) {\n\t\t\t\tkeys = Object.keys(arg);\n\t\t\t\ti = keys.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tret[keys[i]] = arg[keys[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn ret;\n\t}\n\n\t// Customisable class (Base class) -------------------------------------------\n\t// Use with operation \"new\" to extend Validation and Sanitization themselves,\n\t// not their prototype. In other words, constructor shall be call to extend\n\t// those functions, instead of being in their constructor, like this:\n\t//\t\t_extend(Validation, new Customisable);\n\n\tfunction Customisable() {\n\t\tthis.custom = {};\n\n\t\tthis.extend = function (custom) {\n\t\t\treturn _extend(this.custom, custom);\n\t\t};\n\n\t\tthis.reset = function () {\n\t\t\tthis.custom = {};\n\t\t};\n\n\t\tthis.remove = function (fields) {\n\t\t\tif (!_typeIs.array(fields)) {\n\t\t\t\tfields = [fields];\n\t\t\t}\n\t\t\tfields.forEach(function (field) {\n\t\t\t\tdelete this.custom[field];\n\t\t\t}, this);\n\t\t};\n\t}\n\n\t// Inspection class (Base class) ---------------------------------------------\n\t// Use to extend Validation and Sanitization prototypes. Inspection\n\t// constructor shall be called in derived class constructor.\n\n\tfunction Inspection(schema, custom) {\n\t\tvar _stack = ['@'];\n\n\t\tthis._schema = schema;\n\t\tthis._custom = {};\n\t\tif (custom != null) {\n\t\t\tfor (var key in custom) {\n\t\t\t\tif (custom.hasOwnProperty(key)){\n\t\t\t\t\tthis._custom['$' + key] = custom[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._getDepth = function () {\n\t\t\treturn _stack.length;\n\t\t};\n\n\t\tthis._dumpStack = function () {\n\t\t\treturn _stack.map(function (i) {return i.replace(/^\\[/g, '\\u001b\\u001c\\u001d\\u001e');})\n\t\t\t.join('.').replace(/\\.\\u001b\\u001c\\u001d\\u001e/g, '[');\n\t\t};\n\n\t\tthis._deeperObject = function (name) {\n\t\t\t_stack.push((/^[a-z$_][a-z0-9$_]*$/i).test(name) ? name : '[\"' + name + '\"]');\n\t\t\treturn this;\n\t\t};\n\n\t\tthis._deeperArray = function (i) {\n\t\t\t_stack.push('[' + i + ']');\n\t\t\treturn this;\n\t\t};\n\n\t\tthis._back = function () {\n\t\t\t_stack.pop();\n\t\t\treturn this;\n\t\t};\n\t}\n\t// Simple types --------------------------------------------------------------\n\t// If the property is not defined or is not in this list:\n\tvar _typeIs = {\n\t\t\"function\": function (element) {\n\t\t\treturn typeof element === 'function';\n\t\t},\n\t\t\"string\": function (element) {\n\t\t\treturn typeof element === 'string';\n\t\t},\n\t\t\"number\": function (element) {\n\t\t\treturn typeof element === 'number' && !isNaN(element);\n\t\t},\n\t\t\"integer\": function (element) {\n\t\t\treturn typeof element === 'number' && element % 1 === 0;\n\t\t},\n\t\t\"NaN\": function (element) {\n\t\t\treturn typeof element === 'number' && isNaN(element);\n\t\t},\n\t\t\"boolean\": function (element) {\n\t\t\treturn typeof element === 'boolean';\n\t\t},\n\t\t\"null\": function (element) {\n\t\t\treturn element === null;\n\t\t},\n\t\t\"date\": function (element) {\n\t\t\treturn element != null && element instanceof Date;\n\t\t},\n\t\t\"object\": function (element) {\n\t\t\treturn element != null && element.constructor === Object;\n\t\t},\n\t\t\"array\": function (element) {\n\t\t\treturn element != null && element.constructor === Array;\n\t\t},\n\t\t\"any\": function (element) {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tfunction _simpleType(type, candidate) {\n\t\tif (typeof type == 'function') {\n\t\t\treturn candidate instanceof type;\n\t\t}\n\t\ttype = type in _typeIs ? type : 'any';\n\t\treturn _typeIs[type](candidate);\n\t}\n\n\tfunction _realType(candidate) {\n\t\tfor (var i in _typeIs) {\n\t\t\tif (_simpleType(i, candidate)) {\n\t\t\t\tif (i !== 'any') { return i; }\n\t\t\t\treturn 'an instance of ' + candidate.constructor.name;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getIndexes(a, value) {\n\t\tvar indexes = [];\n\t\tvar i = a.indexOf(value);\n\n\t\twhile (i !== -1) {\n\t\t\tindexes.push(i);\n\t\t\ti = a.indexOf(value, i + 1);\n\t\t}\n\t\treturn indexes;\n\t}\n\n\t// Available formats ---------------------------------------------------------\n\tvar _formats = {\n\t\t'void': /^$/,\n\t\t'url': /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)?(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i,\n\t\t'date-time': /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d{3})?(Z?|(-|\\+)\\d{2}:\\d{2})$/,\n\t\t'date': /^\\d{4}-\\d{2}-\\d{2}$/,\n\t\t'coolDateTime': /^\\d{4}(-|\\/)\\d{2}(-|\\/)\\d{2}(T| )\\d{2}:\\d{2}:\\d{2}(\\.\\d{3})?Z?$/,\n\t\t'time': /^\\d{2}\\:\\d{2}\\:\\d{2}$/,\n\t\t'color': /^#([0-9a-f])+$/i,\n\t\t'email': /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i,\n\t\t'numeric': /^[0-9]+$/,\n\t\t'integer': /^\\-?[0-9]+$/,\n\t\t'decimal': /^\\-?[0-9]*\\.?[0-9]+$/,\n\t\t'alpha': /^[a-z]+$/i,\n\t\t'alphaNumeric': /^[a-z0-9]+$/i,\n\t\t'alphaDash': /^[a-z0-9_-]+$/i,\n\t\t'javascript': /^[a-z_\\$][a-z0-9_\\$]*$/i,\n\t\t'upperString': /^[A-Z ]*$/,\n\t\t'lowerString': /^[a-z ]*$/\n\t};\n\n// Validation ------------------------------------------------------------------\n\tvar _validationAttribut = {\n\t\toptional: function (schema, candidate) {\n\t\t\tvar opt = typeof schema.optional === 'boolean' ? schema.optional : (schema.optional === 'true'); // Default is false\n\n\t\t\tif (opt === true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (typeof candidate === 'undefined') {\n\t\t\t\tthis.report('is missing and not optional', null, 'optional');\n\t\t\t}\n\t\t},\n\t\ttype: function (schema, candidate) {\n\t\t\t// return because optional function already handle this case\n\t\t\tif (typeof candidate === 'undefined' || (typeof schema.type !== 'string' && !(schema.type instanceof Array) && typeof schema.type !== 'function')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar types = _typeIs.array(schema.type) ? schema.type : [schema.type];\n\t\t\tvar typeIsValid = types.some(function (type) {\n\t\t\t\treturn _simpleType(type, candidate);\n\t\t\t});\n\t\t\tif (!typeIsValid) {\n\t\t\t\ttypes = types.map(function (t) {return typeof t === 'function' ? 'and instance of ' + t.name : t; });\n\t\t\t\tthis.report('must be ' + types.join(' or ') + ', but is ' + _realType(candidate), null, 'type');\n\t\t\t}\n\t\t},\n\t\tuniqueness: function (schema, candidate) {\n\t\t\tif (typeof schema.uniqueness === 'string') { schema.uniqueness = (schema.uniqueness === 'true'); }\n\t\t\tif (typeof schema.uniqueness !== 'boolean' || schema.uniqueness === false || (!_typeIs.array(candidate) && typeof candidate !== 'string')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar reported = [];\n\t\t\tfor (var i = 0; i < candidate.length; i++) {\n\t\t\t\tif (reported.indexOf(candidate[i]) >= 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tvar indexes = getIndexes(candidate, candidate[i]);\n\t\t\t\tif (indexes.length > 1) {\n\t\t\t\t\treported.push(candidate[i]);\n\t\t\t\t\tthis.report('has value [' + candidate[i] + '] more than once at indexes [' + indexes.join(', ') + ']', null, 'uniqueness');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tpattern: function (schema, candidate) {\n\t\t\tvar self = this;\n\t\t\tvar regexs = schema.pattern;\n\t\t\tif (typeof candidate !== 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar matches = false;\n\t\t\tif (!_typeIs.array(regexs)) {\n\t\t\t\tregexs = [regexs];\n\t\t\t}\n\t\t\tregexs.forEach(function (regex) {\n\t\t\t\tif (typeof regex === 'string' && regex in _formats) {\n\t\t\t\t\tregex = _formats[regex];\n\t\t\t\t}\n\t\t\t\tif (regex instanceof RegExp) {\n\t\t\t\t\tif (regex.test(candidate)) {\n\t\t\t\t\t\tmatches = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!matches) {\n\t\t\t\tself.report('must match [' + regexs.join(' or ') + '], but is equal to \"' + candidate + '\"', null, 'pattern');\n\t\t\t}\n\t\t},\n\t\tvalidDate: function (schema, candidate) {\n\t\t\tif (String(schema.validDate) === 'true' && candidate instanceof Date && isNaN(candidate.getTime())) {\n\t\t\t\tthis.report('must be a valid date', null, 'validDate');\n\t\t\t}\n\t\t},\n\t\tminLength: function (schema, candidate) {\n\t\t\tif (typeof candidate !== 'string' && !_typeIs.array(candidate)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar minLength = Number(schema.minLength);\n\t\t\tif (isNaN(minLength)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (candidate.length < minLength) {\n\t\t\t\tthis.report('must be longer than ' + minLength + ' elements, but it has ' + candidate.length, null, 'minLength');\n\t\t\t}\n\t\t},\n\t\tmaxLength: function (schema, candidate) {\n\t\t\tif (typeof candidate !== 'string' && !_typeIs.array(candidate)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar maxLength = Number(schema.maxLength);\n\t\t\tif (isNaN(maxLength)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (candidate.length > maxLength) {\n\t\t\t\tthis.report('must be shorter than ' + maxLength + ' elements, but it has ' + candidate.length, null, 'maxLength');\n\t\t\t}\n\t\t},\n\t\texactLength: function (schema, candidate) {\n\t\t\tif (typeof candidate !== 'string' && !_typeIs.array(candidate)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar exactLength = Number(schema.exactLength);\n\t\t\tif (isNaN(exactLength)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (candidate.length !== exactLength) {\n\t\t\t\tthis.report('must have exactly ' + exactLength + ' elements, but it have ' + candidate.length, null, 'exactLength');\n\t\t\t}\n\t\t},\n\t\tlt: function (schema, candidate) {\n\t\t\tvar limit = Number(schema.lt);\n\t\t\tif (typeof candidate !== 'number' || isNaN(limit)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (candidate >= limit) {\n\t\t\t\tthis.report('must be less than ' + limit + ', but is equal to \"' + candidate + '\"', null, 'lt');\n\t\t\t}\n\t\t},\n\t\tlte: function (schema, candidate) {\n\t\t\tvar limit = Number(schema.lte);\n\t\t\tif (typeof candidate !== 'number' || isNaN(limit)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (candidate > limit) {\n\t\t\t\tthis.report('must be less than or equal to ' + limit + ', but is equal to \"' + candidate + '\"', null, 'lte');\n\t\t\t}\n\t\t},\n\t\tgt: function (schema, candidate) {\n\t\t\tvar limit = Number(schema.gt);\n\t\t\tif (typeof candidate !== 'number' || isNaN(limit)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (candidate <= limit) {\n\t\t\t\tthis.report('must be greater than ' + limit + ', but is equal to \"' + candidate + '\"', null, 'gt');\n\t\t\t}\n\t\t},\n\t\tgte: function (schema, candidate) {\n\t\t\tvar limit = Number(schema.gte);\n\t\t\tif (typeof candidate !== 'number' || isNaN(limit)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (candidate < limit) {\n\t\t\t\tthis.report('must be greater than or equal to ' + limit + ', but is equal to \"' + candidate + '\"', null, 'gte');\n\t\t\t}\n\t\t},\n\t\teq: function (schema, candidate) {\n\t\t\tif (typeof candidate !== 'number' && typeof candidate !== 'string' && typeof candidate !== 'boolean') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar limit = schema.eq;\n\t\t\tif (typeof limit !== 'number' && typeof limit !== 'string' && typeof limit !== 'boolean' && !_typeIs.array(limit)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (_typeIs.array(limit)) {\n\t\t\t\tfor (var i = 0; i < limit.length; i++) {\n\t\t\t\t\tif (candidate === limit[i]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.report('must be equal to [' + limit.map(function (l) {\n\t\t\t\t\treturn '\"' + l + '\"';\n\t\t\t\t}).join(' or ') + '], but is equal to \"' + candidate + '\"', null, 'eq');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (candidate !== limit) {\n\t\t\t\t\tthis.report('must be equal to \"' + limit + '\", but is equal to \"' + candidate + '\"', null, 'eq');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tne: function (schema, candidate) {\n\t\t\tif (typeof candidate !== 'number' && typeof candidate !== 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar limit = schema.ne;\n\t\t\tif (typeof limit !== 'number' && typeof limit !== 'string' && !_typeIs.array(limit)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (_typeIs.array(limit)) {\n\t\t\t\tfor (var i = 0; i < limit.length; i++) {\n\t\t\t\t\tif (candidate === limit[i]) {\n\t\t\t\t\t\tthis.report('must not be equal to \"' + limit[i] + '\"', null, 'ne');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (candidate === limit) {\n\t\t\t\t\tthis.report('must not be equal to \"' + limit + '\"', null, 'ne');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsomeKeys: function (schema, candidat) {\n\t\t\tvar _keys = schema.someKeys;\n\t\t\tif (!_typeIs.object(candidat)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar valid = _keys.some(function (action) {\n\t\t\t\treturn (action in candidat);\n\t\t\t});\n\t\t\tif (!valid) {\n\t\t\t\tthis.report('must have at least key ' + _keys.map(function (i) {\n\t\t\t\t\treturn '\"' + i + '\"';\n\t\t\t\t}).join(' or '), null, 'someKeys');\n\t\t\t}\n\t\t},\n\t\tstrict: function (schema, candidate) {\n\t\t\tif (typeof schema.strict === 'string') { schema.strict = (schema.strict === 'true'); }\n\t\t\tif (schema.strict !== true || !_typeIs.object(candidate) || !_typeIs.object(schema.properties)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar self = this;\n\t\t\tif (typeof schema.properties['*'] === 'undefined') {\n\t\t\t\tvar intruder = Object.keys(candidate).filter(function (key) {\n\t\t\t\t\treturn (typeof schema.properties[key] === 'undefined');\n\t\t\t\t});\n\t\t\t\tif (intruder.length > 0) {\n\t\t\t\t\tvar msg = 'should not contains ' + (intruder.length > 1 ? 'properties' : 'property') +\n\t\t\t\t\t\t' [' + intruder.map(function (i) { return '\"' + i + '\"'; }).join(', ') + ']';\n\t\t\t\t\tself.report(msg, null, 'strict');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\texec: function (schema, candidate, callback) {\n\t\t\tvar self = this;\n\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\treturn this.asyncExec(schema, candidate, callback);\n\t\t\t}\n\t\t\t(_typeIs.array(schema.exec) ? schema.exec : [schema.exec]).forEach(function (exec) {\n\t\t\t\tif (typeof exec === 'function') {\n\t\t\t\t\texec.call(self, schema, candidate);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tproperties: function (schema, candidate, callback) {\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\treturn this.asyncProperties(schema, candidate, callback);\n\t\t\t}\n\t\t\tif (!(schema.properties instanceof Object) || !(candidate instanceof Object)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar properties = schema.properties,\n\t\t\t\t\ti;\n\t\t\tif (properties['*'] != null) {\n\t\t\t\tfor (i in candidate) {\n\t\t\t\t\tif (i in properties) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tthis._deeperObject(i);\n\t\t\t\t\tthis._validate(properties['*'], candidate[i]);\n\t\t\t\t\tthis._back();\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i in properties) {\n\t\t\t\tif (i === '*') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthis._deeperObject(i);\n\t\t\t\tthis._validate(properties[i], candidate[i]);\n\t\t\t\tthis._back();\n\t\t\t}\n\t\t},\n\t\titems: function (schema, candidate, callback) {\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\treturn this.asyncItems(schema, candidate, callback);\n\t\t\t}\n\t\t\tif (!(schema.items instanceof Object) || !(candidate instanceof Object)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar items = schema.items;\n\t\t\tvar i, l;\n\t\t\t// If provided schema is an array\n\t\t\t// then call validate for each case\n\t\t\t// else it is an Object\n\t\t\t// then call validate for each key\n\t\t\tif (_typeIs.array(items) && _typeIs.array(candidate)) {\n\t\t\t\tfor (i = 0, l = items.length; i < l; i++) {\n\t\t\t\t\tthis._deeperArray(i);\n\t\t\t\t\tthis._validate(items[i], candidate[i]);\n\t\t\t\t\tthis._back();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfor (var key in candidate) {\n\t\t\t\t\tif (candidate.hasOwnProperty(key)){\n\t\t\t\t\t\tthis._deeperArray(key);\n\t\t\t\t\t\tthis._validate(items, candidate[key]);\n\t\t\t\t\t\tthis._back();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tvar _asyncValidationAttribut = {\n\t\tasyncExec: function (schema, candidate, callback) {\n\t\t\tvar self = this;\n\t\t\tasync.eachSeries(_typeIs.array(schema.exec) ? schema.exec : [schema.exec], function (exec, done) {\n\t\t\t\tif (typeof exec === 'function') {\n\t\t\t\t\tif (exec.length > 2) {\n\t\t\t\t\t\treturn exec.call(self, schema, candidate, done);\n\t\t\t\t\t}\n\t\t\t\t\texec.call(self, schema, candidate);\n\t\t\t\t}\n\t\t\t\tasync.nextTick(done);\n\t\t\t}, callback);\n\t\t},\n\t\tasyncProperties: function (schema, candidate, callback) {\n\t\t\tif (!(schema.properties instanceof Object) || !_typeIs.object(candidate)) {\n\t\t\t\treturn callback();\n\t\t\t}\n\t\t\tvar self = this;\n\t\t\tvar properties = schema.properties;\n\t\t\tasync.series([\n\t\t\t\tfunction (next) {\n\t\t\t\t\tif (properties['*'] == null) {\n\t\t\t\t\t\treturn next();\n\t\t\t\t\t}\n\t\t\t\t\tasync.eachSeries(Object.keys(candidate), function (i, done) {\n\t\t\t\t\t\tif (i in properties) {\n\t\t\t\t\t\t\treturn async.nextTick(done);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._deeperObject(i);\n\t\t\t\t\t\tself._asyncValidate(properties['*'], candidate[i], function (err) {\n\t\t\t\t\t\t\tself._back();\n\t\t\t\t\t\t\tdone(err);\n\t\t\t\t\t\t});\n\t\t\t\t\t}, next);\n\t\t\t\t},\n\t\t\t\tfunction (next) {\n\t\t\t\t\tasync.eachSeries(Object.keys(properties), function (i, done) {\n\t\t\t\t\t\tif (i === '*') {\n\t\t\t\t\t\t\treturn async.nextTick(done);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._deeperObject(i);\n\t\t\t\t\t\tself._asyncValidate(properties[i], candidate[i], function (err) {\n\t\t\t\t\t\t\tself._back();\n\t\t\t\t\t\t\tdone(err);\n\t\t\t\t\t\t});\n\t\t\t\t\t}, next);\n\t\t\t\t}\n\t\t\t], callback);\n\t\t},\n\t\tasyncItems: function (schema, candidate, callback) {\n\t\t\tif (!(schema.items instanceof Object) || !(candidate instanceof Object)) {\n\t\t\t\treturn callback();\n\t\t\t}\n\t\t\tvar self = this;\n\t\t\tvar items = schema.items;\n\t\t\tvar i, l;\n\n\t\t\tif (_typeIs.array(items) && _typeIs.array(candidate)) {\n\t\t\t\tasync.timesSeries(items.length, function (i, done) {\n\t\t\t\t\tself._deeperArray(i);\n\t\t\t\t\tself._asyncValidate(items[i], candidate[i], function (err, res) {\n\t\t\t\t\t\tself._back();\n\t\t\t\t\t\tdone(err, res);\n\t\t\t\t\t});\n\t\t\t\t\tself._back();\n\t\t\t\t}, callback);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tasync.eachSeries(Object.keys(candidate), function (key, done) {\n\t\t\t\t\tself._deeperArray(key);\n\t\t\t\t\tself._asyncValidate(items, candidate[key], function (err, res) {\n\t\t\t\t\t\tself._back();\n\t\t\t\t\t\tdone(err, res);\n\t\t\t\t\t});\n\t\t\t\t}, callback);\n\t\t\t}\n\t\t}\n\t};\n\n\t// Validation Class ----------------------------------------------------------\n\t// inherits from Inspection class (actually we just call Inspection\n\t// constructor with the new context, because its prototype is empty\n\tfunction Validation(schema, custom) {\n\t\tInspection.prototype.constructor.call(this, schema, _merge(Validation.custom, custom));\n\t\tvar _error = [];\n\n\t\tthis._basicFields = Object.keys(_validationAttribut);\n\t\tthis._customFields = Object.keys(this._custom);\n\t\tthis.origin = null;\n\n\t\tthis.report = function (message, code, reason) {\n\t\t\tvar newErr = {\n\t\t\t\tcode: code || this.userCode || null,\n\t\t\t\treason: reason || 'unknown',\n\t\t\t\tmessage: this.userError || message || 'is invalid',\n\t\t\t\tproperty: this.userAlias ? (this.userAlias + ' (' + this._dumpStack() + ')') : this._dumpStack()\n\t\t\t};\n\t\t\t_error.push(newErr);\n\t\t\treturn this;\n\t\t};\n\n\t\tthis.result = function () {\n\t\t\treturn {\n\t\t\t\terror: _error,\n\t\t\t\tvalid: _error.length === 0,\n\t\t\t\tformat: function () {\n\t\t\t\t\tif (this.valid === true) {\n\t\t\t\t\t\treturn 'Candidate is valid';\n\t\t\t\t\t}\n\t\t\t\t\treturn this.error.map(function (i) {\n\t\t\t\t\t\treturn 'Property ' + i.property + ': ' + i.message;\n\t\t\t\t\t}).join('\\n');\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t}\n\n\t_extend(Validation.prototype, _validationAttribut);\n\t_extend(Validation.prototype, _asyncValidationAttribut);\n\t_extend(Validation, new Customisable());\n\n\tValidation.prototype.validate = function (candidate, callback) {\n\t\tthis.origin = candidate;\n\t\tif (typeof callback === 'function') {\n\t\t\tvar self = this;\n\t\t\treturn async.nextTick(function () {\n\t\t\t\tself._asyncValidate(self._schema, candidate, function (err) {\n\t\t\t\t\tself.origin = null;\n\t\t\t\t\tcallback(err, self.result());\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn this._validate(this._schema, candidate).result();\n\t};\n\n\tValidation.prototype._validate = function (schema, candidate, callback) {\n\t\tthis.userCode = schema.code || null;\n\t\tthis.userError = schema.error || null;\n\t\tthis.userAlias = schema.alias || null;\n\t\tthis._basicFields.forEach(function (i) {\n\t\t\tif ((i in schema || i === 'optional') && typeof this[i] === 'function') {\n\t\t\t\tthis[i](schema, candidate);\n\t\t\t}\n\t\t}, this);\n\t\tthis._customFields.forEach(function (i) {\n\t\t\tif (i in schema && typeof this._custom[i] === 'function') {\n\t\t\t\tthis._custom[i].call(this, schema, candidate);\n\t\t\t}\n\t\t}, this);\n\t\treturn this;\n\t};\n\n\tValidation.prototype._asyncValidate = function (schema, candidate, callback) {\n\t\tvar self = this;\n\t\tthis.userCode = schema.code || null;\n\t\tthis.userError = schema.error || null;\n\t\tthis.userAlias = schema.alias || null;\n\n\t\tasync.series([\n\t\t\tfunction (next) {\n\t\t\t\tasync.eachSeries(Object.keys(_validationAttribut), function (i, done) {\n\t\t\t\t\tasync.nextTick(function () {\n\t\t\t\t\t\tif ((i in schema || i === 'optional') && typeof self[i] === 'function') {\n\t\t\t\t\t\t\tif (self[i].length > 2) {\n\t\t\t\t\t\t\t\treturn self[i](schema, candidate, done);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself[i](schema, candidate);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdone();\n\t\t\t\t\t});\n\t\t\t\t}, next);\n\t\t\t},\n\t\t\tfunction (next) {\n\t\t\t\tasync.eachSeries(Object.keys(self._custom), function (i, done) {\n\t\t\t\t\tasync.nextTick(function () {\n\t\t\t\t\t\tif (i in schema && typeof self._custom[i] === 'function') {\n\t\t\t\t\t\t\tif (self._custom[i].length > 2) {\n\t\t\t\t\t\t\t\treturn self._custom[i].call(self, schema, candidate, done);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself._custom[i].call(self, schema, candidate);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdone();\n\t\t\t\t\t});\n\t\t\t\t}, next);\n\t\t\t}\n\t\t], callback);\n\t};\n\n// Sanitization ----------------------------------------------------------------\n\t// functions called by _sanitization.type method.\n\tvar _forceType = {\n\t\tnumber: function (post, schema) {\n\t\t\tvar n;\n\t\t\tif (typeof post === 'number') {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\telse if (post === '') {\n\t\t\t\tif (typeof schema.def !== 'undefined')\n\t\t\t\t\treturn schema.def;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\telse if (typeof post === 'string') {\n\t\t\t\tn = parseFloat(post.replace(/,/g, '.').replace(/ /g, ''));\n\t\t\t\tif (typeof n === 'number') {\n\t\t\t\t\treturn n;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (post instanceof Date) {\n\t\t\t\treturn +post;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tinteger: function (post, schema) {\n\t\t\tvar n;\n\t\t\tif (typeof post === 'number' && post % 1 === 0) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\telse if (post === '') {\n\t\t\t\tif (typeof schema.def !== 'undefined')\n\t\t\t\t\treturn schema.def;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\telse if (typeof post === 'string') {\n\t\t\t\tn = parseInt(post.replace(/ /g, ''), 10);\n\t\t\t\tif (typeof n === 'number') {\n\t\t\t\t\treturn n;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (typeof post === 'number') {\n\t\t\t\treturn parseInt(post, 10);\n\t\t\t}\n\t\t\telse if (typeof post === 'boolean') {\n\t\t\t\tif (post) { return 1; }\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse if (post instanceof Date) {\n\t\t\t\treturn +post;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tstring: function (post, schema) {\n\t\t\tif (typeof post === 'boolean' || typeof post === 'number' || post instanceof Date) {\n\t\t\t\treturn post.toString();\n\t\t\t}\n\t\t\telse if (_typeIs.array(post)) {\n\t\t\t\t// If user authorize array and strings...\n\t\t\t\tif (schema.items || schema.properties)\n\t\t\t\t\treturn post;\n\t\t\t\treturn post.join(String(schema.joinWith || ','));\n\t\t\t}\n\t\t\telse if (post instanceof Object) {\n\t\t\t\t// If user authorize objects ans strings...\n\t\t\t\tif (schema.items || schema.properties)\n\t\t\t\t\treturn post;\n\t\t\t\treturn JSON.stringify(post);\n\t\t\t}\n\t\t\telse if (typeof post === 'string' && post.length) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tdate: function (post, schema) {\n\t\t\tif (post instanceof Date) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar d = new Date(post);\n\t\t\t\tif (!isNaN(d.getTime())) { // if valid date\n\t\t\t\t\treturn d;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tboolean: function (post, schema) {\n\t\t\tif (typeof post === 'undefined') return null;\n\t\t\tif (typeof post === 'string' && post.toLowerCase() === 'false') return false;\n\t\t\treturn !!post;\n\t\t},\n\t\tobject: function (post, schema) {\n\t\t\tif (typeof post !== 'string' || _typeIs.object(post)) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(post);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tarray: function (post, schema) {\n\t\t\tif (_typeIs.array(post))\n\t\t\t\treturn post;\n\t\t\tif (typeof post === 'undefined')\n\t\t\t\treturn null;\n\t\t\tif (typeof post === 'string') {\n\t\t\t\tif (post.substring(0,1) === '[' && post.slice(-1) === ']') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn JSON.parse(post);\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn post.split(String(schema.splitWith || ','));\n\n\t\t\t}\n\t\t\tif (!_typeIs.array(post))\n\t\t\t\treturn [ post ];\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tvar _applyRules = {\n\t\tupper: function (post) {\n\t\t\treturn post.toUpperCase();\n\t\t},\n\t\tlower: function (post) {\n\t\t\treturn post.toLowerCase();\n\t\t},\n\t\ttitle: function (post) {\n\t\t\t// Fix by seb (replace \\w\\S* by \\S* => exemple : coucou \u00e7a va)\n\t\t\treturn post.replace(/\\S*/g, function (txt) {\n\t\t\t\treturn txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n\t\t\t});\n\t\t},\n\t\tcapitalize: function (post) {\n\t\t\treturn post.charAt(0).toUpperCase() + post.substr(1).toLowerCase();\n\t\t},\n\t\tucfirst: function (post) {\n\t\t\treturn post.charAt(0).toUpperCase() + post.substr(1);\n\t\t},\n\t\ttrim: function (post) {\n\t\t\treturn post.trim();\n\t\t}\n\t};\n\n\t// Every function return the future value of each property. Therefore you\n\t// have to return post even if you do not change its value\n\tvar _sanitizationAttribut = {\n\t\tstrict: function (schema, post) {\n\t\t\tif (typeof schema.strict === 'string') { schema.strict = (schema.strict === 'true'); }\n\t\t\tif (schema.strict !== true)\n\t\t\t\treturn post;\n\t\t\tif (!_typeIs.object(schema.properties))\n\t\t\t\treturn post;\n\t\t\tif (!_typeIs.object(post))\n\t\t\t\treturn post;\n\t\t\tvar that = this;\n\t\t\tObject.keys(post).forEach(function (key) {\n\t\t\t\tif (!(key in schema.properties)) {\n\t\t\t\t\tdelete post[key];\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn post;\n\t\t},\n\t\toptional: function (schema, post) {\n\t\t\tvar opt = typeof schema.optional === 'boolean' ? schema.optional : (schema.optional !== 'false'); // Default: true\n\t\t\tif (opt === true) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tif (typeof post !== 'undefined') {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tthis.report();\n\t\t\tif (schema.def === Date) {\n\t\t\t\treturn new Date();\n\t\t\t}\n\t\t\treturn schema.def;\n\t\t},\n\t\ttype: function (schema, post) {\n\t\t\t// if (_typeIs['object'](post) || _typeIs.array(post)) {\n\t\t\t// \treturn post;\n\t\t\t// }\n\t\t\tif (typeof schema.type !== 'string' || typeof _forceType[schema.type] !== 'function') {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tvar n;\n\t\t\tvar opt = typeof schema.optional === 'boolean' ? schema.optional : true;\n\t\t\tif (typeof _forceType[schema.type] === 'function') {\n\t\t\t\tn = _forceType[schema.type](post, schema);\n\t\t\t\tif ((n === null && !opt) || (!n && isNaN(n)) || (n === null && schema.type === 'string')) {\n\t\t\t\t\tn = schema.def;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (!opt) {\n\t\t\t\tn = schema.def;\n\t\t\t}\n\t\t\tif ((n != null || (typeof schema.def !== 'undefined' && schema.def === n)) && n !== post) {\n\t\t\t\tthis.report();\n\t\t\t\treturn n;\n\t\t\t}\n\t\t\treturn post;\n\t\t},\n\t\trules: function (schema, post) {\n\t\t\tvar rules = schema.rules;\n\t\t\tif (typeof post !== 'string' || (typeof rules !== 'string' && !_typeIs.array(rules))) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tvar modified = false;\n\t\t\t(_typeIs.array(rules) ? rules : [rules]).forEach(function (rule) {\n\t\t\t\tif (typeof _applyRules[rule] === 'function') {\n\t\t\t\t\tpost = _applyRules[rule](post);\n\t\t\t\t\tmodified = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (modified) {\n\t\t\t\tthis.report();\n\t\t\t}\n\t\t\treturn post;\n\t\t},\n\t\tmin: function (schema, post) {\n\t\t\tvar postTest = Number(post);\n\t\t\tif (isNaN(postTest)) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tvar min = Number(schema.min);\n\t\t\tif (isNaN(min)) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tif (postTest < min) {\n\t\t\t\tthis.report();\n\t\t\t\treturn min;\n\t\t\t}\n\t\t\treturn post;\n\t\t},\n\t\tmax: function (schema, post) {\n\t\t\tvar postTest = Number(post);\n\t\t\tif (isNaN(postTest)) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tvar max = Number(schema.max);\n\t\t\tif (isNaN(max)) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tif (postTest > max) {\n\t\t\t\tthis.report();\n\t\t\t\treturn max;\n\t\t\t}\n\t\t\treturn post;\n\t\t},\n\t\tminLength: function (schema, post) {\n\t\t\tvar limit = Number(schema.minLength);\n\t\t\tif (typeof post !== 'string' || isNaN(limit) || limit < 0) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tvar str = '';\n\t\t\tvar gap = limit - post.length;\n\t\t\tif (gap > 0) {\n\t\t\t\tfor (var i = 0; i < gap; i++) {\n\t\t\t\t\tstr += '-';\n\t\t\t\t}\n\t\t\t\tthis.report();\n\t\t\t\treturn post + str;\n\t\t\t}\n\t\t\treturn post;\n\t\t},\n\t\tmaxLength: function (schema, post) {\n\t\t\tvar limit = Number(schema.maxLength);\n\t\t\tif (typeof post !== 'string' || isNaN(limit) || limit < 0) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tif (post.length > limit) {\n\t\t\t\tthis.report();\n\t\t\t\treturn post.slice(0, limit);\n\t\t\t}\n\t\t\treturn post;\n\t\t},\n\t\tproperties: function (schema, post, callback) {\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\treturn this.asyncProperties(schema, post, callback);\n\t\t\t}\n\t\t\tif (!post || typeof post !== 'object') {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tvar properties = schema.properties;\n\t\t\tvar tmp;\n\t\t\tvar i;\n\t\t\tif (typeof properties['*'] !== 'undefined') {\n\t\t\t\tfor (i in post) {\n\t\t\t\t\tif (i in properties) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tthis._deeperObject(i);\n\t\t\t\t\ttmp = this._sanitize(schema.properties['*'], post[i]);\n\t\t\t\t\tif (typeof tmp !== 'undefined') {\n\t\t\t\t\t\tpost[i]= tmp;\n\t\t\t\t\t}\n\t\t\t\t\tthis._back();\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i in schema.properties) {\n\t\t\t\tif (i !== '*') {\n\t\t\t\t\tthis._deeperObject(i);\n\t\t\t\t\ttmp = this._sanitize(schema.properties[i], post[i]);\n\t\t\t\t\tif (typeof tmp !== 'undefined') {\n\t\t\t\t\t\tpost[i]= tmp;\n\t\t\t\t\t}\n\t\t\t\t\tthis._back();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn post;\n\t\t},\n\t\titems: function (schema, post, callback) {\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\treturn this.asyncItems(schema, post, callback);\n\t\t\t}\n\t\t\tif (!(schema.items instanceof Object) || !(post instanceof Object)) {\n\t\t\t\treturn post;\n\t\t\t}\n\t\t\tvar i;\n\t\t\tif (_typeIs.array(schema.items) && _typeIs.array(post)) {\n\t\t\t\tvar minLength = schema.items.length < post.length ? schema.items.length : post.length;\n\t\t\t\tfor (i = 0; i < minLength; i++) {\n\t\t\t\t\tthis._deeperArray(i);\n\t\t\t\t\tpost[i] = this._sanitize(schema.items[i], post[i]);\n\t\t\t\t\tthis._back();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfor (i in post) {\n\t\t\t\t\tif(post.hasOwnProperty(i)){\n\t\t\t\t\t\tthis._deeperArray(i);\n\t\t\t\t\t\tpost[i] = this._sanitize(schema.items, post[i]);\n\t\t\t\t\t\tthis._back();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn post;\n\t\t},\n\t\texec: function (schema, post, callback) {\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\treturn this.asyncExec(schema, post, callback);\n\t\t\t}\n\t\t\tvar execs = _typeIs.array(schema.exec) ? schema.exec : [schema.exec];\n\n\t\t\texecs.forEach(function (exec) {\n\t\t\t\tif (typeof exec === 'function') {\n\t\t\t\t\tpost = exec.call(this, schema, post);\n\t\t\t\t}\n\t\t\t}, this);\n\t\t\treturn post;\n\t\t}\n\t};\n\n\tvar _asyncSanitizationAttribut = {\n\t\tasyncExec: function (schema, post, callback) {\n\t\t\tvar self = this;\n\t\t\tvar execs = _typeIs.array(schema.exec) ? schema.exec : [schema.exec];\n\n\t\t\tasync.eachSeries(execs, function (exec, done) {\n\t\t\t\tif (typeof exec === 'function') {\n\t\t\t\t\tif (exec.length > 2) {\n\t\t\t\t\t\treturn exec.call(self, schema, post, function (err, res) {\n\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\treturn done(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpost = res;\n\t\t\t\t\t\t\tdone();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tpost = exec.call(self, schema, post);\n\t\t\t\t}\n\t\t\t\tdone();\n\t\t\t}, function (err) {\n\t\t\t\tcallback(err, post);\n\t\t\t});\n\t\t},\n\t\tasyncProperties: function (schema, post, callback) {\n\t\t\tif (!post || typeof post !== 'object') {\n\t\t\t\treturn callback(null, post);\n\t\t\t}\n\t\t\tvar self = this;\n\t\t\tvar properties = schema.properties;\n\n\t\t\tasync.series([\n\t\t\t\tfunction (next) {\n\t\t\t\t\tif (properties['*'] == null) {\n\t\t\t\t\t\treturn next();\n\t\t\t\t\t}\n\t\t\t\t\tvar globing = properties['*'];\n\t\t\t\t\tasync.eachSeries(Object.keys(post), function (i, next) {\n\t\t\t\t\t\tif (i in properties) {\n\t\t\t\t\t\t\treturn next();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._deeperObject(i);\n\t\t\t\t\t\tself._asyncSanitize(globing, post[i], function (err, res) {\n\t\t\t\t\t\t\tif (err) { /* Error can safely be ignored here */ }\n\t\t\t\t\t\t\tif (typeof res !== 'undefined') {\n\t\t\t\t\t\t\t\tpost[i] = res;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself._back();\n\t\t\t\t\t\t\tnext();\n\t\t\t\t\t\t});\n\t\t\t\t\t}, next);\n\t\t\t\t},\n\t\t\t\tfunction (next) {\n\t\t\t\t\tasync.eachSeries(Object.keys(properties), function (i, next) {\n\t\t\t\t\t\tif (i === '*') {\n\t\t\t\t\t\t\treturn next();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._deeperObject(i);\n\t\t\t\t\t\tself._asyncSanitize(properties[i], post[i], function (err, res) {\n\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\treturn next(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof res !== 'undefined') {\n\t\t\t\t\t\t\t\tpost[i] = res;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself._back();\n\t\t\t\t\t\t\tnext();\n\t\t\t\t\t\t});\n\t\t\t\t\t}, next);\n\t\t\t\t}\n\t\t\t], function (err) {\n\t\t\t\treturn callback(err, post);\n\t\t\t});\n\t\t},\n\t\tasyncItems: function (schema, post, callback) {\n\t\t\tif (!(schema.items instanceof Object) || !(post instanceof Object)) {\n\t\t\t\treturn callback(null, post);\n\t\t\t}\n\t\t\tvar self = this;\n\t\t\tvar items = schema.items;\n\t\t\tif (_typeIs.array(items) && _typeIs.array(post)) {\n\t\t\t\tvar minLength = items.length < post.length ? items.length : post.length;\n\t\t\t\tasync.timesSeries(minLength, function (i, next) {\n\t\t\t\t\tself._deeperArray(i);\n\t\t\t\t\tself._asyncSanitize(items[i], post[i], function (err, res) {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\treturn next(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpost[i] = res;\n\t\t\t\t\t\tself._back();\n\t\t\t\t\t\tnext();\n\t\t\t\t\t});\n\t\t\t\t}, function (err) {\n\t\t\t\t\tcallback(err, post);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tasync.eachSeries(Object.keys(post), function (key, next) {\n\t\t\t\t\tself._deeperArray(key);\n\t\t\t\t\tself._asyncSanitize(items, post[key], function (err, res) {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\treturn next();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpost[key] = res;\n\t\t\t\t\t\tself._back();\n\t\t\t\t\t\tnext();\n\t\t\t\t\t});\n\t\t\t\t}, function (err) {\n\t\t\t\t\tcallback(err, post);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn post;\n\t\t}\n\t};\n\n\t// Sanitization Class --------------------------------------------------------\n\t// inherits from Inspection class (actually we just call Inspection\n\t// constructor with the new context, because its prototype is empty\n\tfunction Sanitization(schema, custom) {\n\t\tInspection.prototype.constructor.call(this, schema, _merge(Sanitization.custom, custom));\n\t\tvar _reporting = [];\n\n\t\tthis._basicFields = Object.keys(_sanitizationAttribut);\n\t\tthis._customFields = Object.keys(this._custom);\n\t\tthis.origin = null;\n\n\t\tthis.report = function (message) {\n\t\t\tvar newNot = {\n\t\t\t\t\tmessage: message || 'was sanitized',\n\t\t\t\t\tproperty: this.userAlias ? (this.userAlias + ' (' + this._dumpStack() + ')') : this._dumpStack()\n\t\t\t};\n\t\t\tif (!_reporting.some(function (e) { return e.property === newNot.property; })) {\n\t\t\t\t_reporting.push(newNot);\n\t\t\t}\n\t\t};\n\n\t\tthis.result = function (data) {\n\t\t\treturn {\n\t\t\t\tdata: data,\n\t\t\t\treporting: _reporting,\n\t\t\t\tformat: function () {\n\t\t\t\t\treturn this.reporting.map(function (i) {\n\t\t\t\t\t\treturn 'Property ' + i.property + ' ' + i.message;\n\t\t\t\t\t}).join('\\n');\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t}\n\n\t_extend(Sanitization.prototype, _sanitizationAttribut);\n\t_extend(Sanitization.prototype, _asyncSanitizationAttribut);\n\t_extend(Sanitization, new Customisable());\n\n\n\tSanitization.prototype.sanitize = function (post, callback) {\n\t\tthis.origin = post;\n\t\tif (typeof callback === 'function') {\n\t\t\tvar self = this;\n\t\t\treturn this._asyncSanitize(this._schema, post, function (err, data) {\n\t\t\t\tself.origin = null;\n\t\t\t\tcallback(err, self.result(data));\n\t\t\t});\n\t\t}\n\t\tvar data = this._sanitize(this._schema, post);\n\t\tthis.origin = null;\n\t\treturn this.result(data);\n\t};\n\n\tSanitization.prototype._sanitize = function (schema, post) {\n\t\tthis.userAlias = schema.alias || null;\n\t\tthis._basicFields.forEach(function (i) {\n\t\t\tif ((i in schema || i === 'optional') && typeof this[i] === 'function') {\n\t\t\t\tpost = this[i](schema, post);\n\t\t\t}\n\t\t}, this);\n\t\tthis._customFields.forEach(function (i) {\n\t\t\tif (i in schema && typeof this._custom[i] === 'function') {\n\t\t\t\tpost = this._custom[i].call(this, schema, post);\n\t\t\t}\n\t\t}, this);\n\t\treturn post;\n\t};\n\n\tSanitization.prototype._asyncSanitize = function (schema, post, callback) {\n\t\tvar self = this;\n\t\tthis.userAlias = schema.alias || null;\n\n\t\tasync.waterfall([\n\t\t\tfunction (next) {\n\t\t\t\tasync.reduce(self._basicFields, post, function (value, i, next) {\n\t\t\t\t\tasync.nextTick(function () {\n\t\t\t\t\t\tif ((i in schema || i === 'optional') && typeof self[i] === 'function') {\n\t\t\t\t\t\t\tif (self[i].length > 2) {\n\t\t\t\t\t\t\t\treturn self[i](schema, value, next);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = self[i](schema, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnext(null, value);\n\t\t\t\t\t});\n\t\t\t\t}, next);\n\t\t\t},\n\t\t\tfunction (inter, next) {\n\t\t\t\tasync.reduce(self._customFields, inter, function (value, i, next) {\n\t\t\t\t\tasync.nextTick(function () {\n\t\t\t\t\t\tif (i in schema && typeof self._custom[i] === 'function') {\n\t\t\t\t\t\t\tif (self._custom[i].length > 2) {\n\t\t\t\t\t\t\t\treturn self._custom[i].call(self, schema, value, next);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = self._custom[i].call(self, schema, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnext(null, value);\n\t\t\t\t\t});\n\t\t\t\t}, next);\n\t\t\t}\n\t\t], callback);\n\t};\n\n\t// ---------------------------------------------------------------------------\n\n\tvar INT_MIN = -2147483648;\n\tvar INT_MAX = 2147483647;\n\n\tvar _rand = {\n\t\tint: function (min, max) {\n\t\t\treturn min + (0 | Math.random() * (max - min + 1));\n\t\t},\n\t\tfloat: function (min, max) {\n\t\t\treturn (Math.random() * (max - min) + min);\n\t\t},\n\t\tbool: function () {\n\t\t\treturn (Math.random() > 0.5);\n\t\t},\n\t\tchar: function (min, max) {\n\t\t\treturn String.fromCharCode(this.int(min, max));\n\t\t},\n\t\tfromList: function (list) {\n\t\t\treturn list[this.int(0, list.length - 1)];\n\t\t}\n\t};\n\n\tvar _formatSample = {\n\t\t'date-time': function () {\n\t\t\treturn new Date().toISOString();\n\t\t},\n\t\t'date': function () {\n\t\t\treturn new Date().toISOString().replace(/T.*$/, '');\n\t\t},\n\t\t'time': function () {\n\t\t\treturn new Date().toLocaleTimeString({}, { hour12: false });\n\t\t},\n\t\t'color': function (min, max) {\n\t\t\tvar s = '#';\n\t\t\tif (min < 1) {\n\t\t\t\tmin = 1;\n\t\t\t}\n\t\t\tfor (var i = 0, l = _rand.int(min, max); i < l; i++) {\n\t\t\t\ts += _rand.fromList('0123456789abcdefABCDEF');\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t'numeric': function () {\n\t\t\treturn '' + _rand.int(0, INT_MAX);\n\t\t},\n\t\t'integer': function () {\n\t\t\tif (_rand.bool() === true) {\n\t\t\t\treturn '-' + this.numeric();\n\t\t\t}\n\t\t\treturn this.numeric();\n\t\t},\n\t\t'decimal': function () {\n\t\t\treturn this.integer() + '.' + this.numeric();\n\t\t},\n\t\t'alpha': function (min, max) {\n\t\t\tvar s = '';\n\t\t\tif (min < 1) {\n\t\t\t\tmin = 1;\n\t\t\t}\n\t\t\tfor (var i = 0, l = _rand.int(min, max); i < l; i++) {\n\t\t\t\ts += _rand.fromList('abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ');\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t'alphaNumeric': function (min, max) {\n\t\t\tvar s = '';\n\t\t\tif (min < 1) {\n\t\t\t\tmin = 1;\n\t\t\t}\n\t\t\tfor (var i = 0, l = _rand.int(min, max); i < l; i++) {\n\t\t\t\ts += _rand.fromList('abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789');\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t'alphaDash': function (min, max) {\n\t\t\tvar s = '';\n\t\t\tif (min < 1) {\n\t\t\t\tmin = 1;\n\t\t\t}\n\t\t\tfor (var i = 0, l = _rand.int(min, max); i < l; i++) {\n\t\t\t\ts += _rand.fromList('_-abcdefghijklmnopqrstuvwxyz_-ABCDEFGHIJKLMNOPQRSTUVWXYZ_-0123456789_-');\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t'javascript': function (min, max) {\n\t\t\tvar s = _rand.fromList('_$abcdefghijklmnopqrstuvwxyz_$ABCDEFGHIJKLMNOPQRSTUVWXYZ_$');\n\t\t\tfor (var i = 0, l = _rand.int(min, max - 1); i < l; i++) {\n\t\t\t\ts += _rand.fromList('_$abcdefghijklmnopqrstuvwxyz_$ABCDEFGHIJKLMNOPQRSTUVWXYZ_$0123456789_$');\n\t\t\t}\n\t\t\treturn s;\n\t\t}\n\t};\n\n\tfunction _getLimits(schema) {\n\t\tvar min = INT_MIN;\n\t\tvar max = INT_MAX;\n\n\t\tif (schema.gte != null) {\n\t\t\tmin = schema.gte;\n\t\t}\n\t\telse if (schema.gt != null) {\n\t\t\tmin = schema.gt + 1;\n\t\t}\n\t\tif (schema.lte != null) {\n\t\t\tmax = schema.lte;\n\t\t}\n\t\telse if (schema.lt != null) {\n\t\t\tmax = schema.lt - 1;\n\t\t}\n\t\treturn { min: min, max: max };\n\t}\n\n\tvar _typeGenerator = {\n\t\tstring: function (schema) {\n\t\t\tif (schema.eq != null) {\n\t\t\t\treturn schema.eq;\n\t\t\t}\n\t\t\tvar s = '';\n\t\t\tvar minLength = schema.minLength != null ? schema.minLength : 0;\n\t\t\tvar maxLength = schema.maxLength != null ? schema.maxLength : 32;\n\t\t\tif (typeof schema.pattern === 'string' && typeof _formatSample[schema.pattern] === 'function') {\n\t\t\t\treturn _formatSample[schema.pattern](minLength, maxLength);\n\t\t\t}\n\n\t\t\tvar l = schema.exactLength != null ? schema.exactLength : _rand.int(minLength, maxLength);\n\t\t\tfor (var i = 0; i < l; i++) {\n\t\t\t\ts += _rand.char(32, 126);\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\tnumber: function (schema) {\n\t\t\tif (schema.eq != null) {\n\t\t\t\treturn schema.eq;\n\t\t\t}\n\t\t\tvar limit = _getLimits(schema);\n\t\t\tvar n = _rand.float(limit.min, limit.max);\n\t\t\tif (schema.ne != null) {\n\t\t\t\tvar ne = _typeIs.array(schema.ne) ? schema.ne : [schema.ne];\n\t\t\t\twhile (ne.indexOf(n) !== -1) {\n\t\t\t\t\tn = _rand.float(limit.min, limit.max);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn n;\n\t\t},\n\t\tinteger: function (schema) {\n\t\t\tif (schema.eq != null) {\n\t\t\t\treturn schema.eq;\n\t\t\t}\n\t\t\tvar limit = _getLimits(schema);\n\t\t\tvar n = _rand.int(limit.min, limit.max);\n\t\t\tif (schema.ne != null) {\n\t\t\t\tvar ne = _typeIs.array(schema.ne) ? schema.ne : [schema.ne];\n\t\t\t\twhile (ne.indexOf(n) !== -1) {\n\t\t\t\t\tn = _rand.int(limit.min, limit.max);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn n;\n\t\t},\n\t\tboolean: function (schema) {\n\t\t\tif (schema.eq != null) {\n\t\t\t\treturn schema.eq;\n\t\t\t}\n\t\t\treturn _rand.bool();\n\t\t},\n\t\t\"null\": function (schema) {\n\t\t\treturn null;\n\t\t},\n\t\tdate: function (schema) {\n\t\t\tif (schema.eq != null) {\n\t\t\t\treturn schema.eq;\n\t\t\t}\n\t\t\treturn new Date();\n\t\t},\n\t\tobject: function (schema) {\n\t\t\tvar o = {};\n\t\t\tvar prop = schema.properties || {};\n\n\t\t\tfor (var key in prop) {\n\t\t\t\tif (prop.hasOwnProperty(key)){\n\t\t\t\t\tif (prop[key].optional === true && _rand.bool() === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (key !== '*') {\n\t\t\t\t\t\to[key] = this.generate(prop[key]);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar rk = '__random_key_';\n\t\t\t\t\t\tvar randomKey = rk + 0;\n\t\t\t\t\t\tvar n = _rand.int(1, 9);\n\t\t\t\t\t\tfor (var i = 1; i <= n; i++) {\n\t\t\t\t\t\t\tif (!(randomKey in prop)) {\n\t\t\t\t\t\t\t\to[randomKey] = this.generate(prop[key]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trandomKey = rk + i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn o;\n\t\t},\n\t\tarray: function (schema) {\n\t\t\tvar self = this;\n\t\t\tvar items = schema.items || {};\n\t\t\tvar minLength = schema.minLength != null ? schema.minLength : 0;\n\t\t\tvar maxLength = schema.maxLength != null ? schema.maxLength : 16;\n\t\t\tvar type;\n\t\t\tvar candidate;\n\t\t\tvar size;\n\t\t\tvar i;\n\n\t\t\tif (_typeIs.array(items)) {\n\t\t\t\tsize = items.length;\n\t\t\t\tif (schema.exactLength != null) {\n\t\t\t\t\tsize = schema.exactLength;\n\t\t\t\t}\n\t\t\t\telse if (size < minLength) {\n\t\t\t\t\tsize = minLength;\n\t\t\t\t}\n\t\t\t\telse if (size > maxLength) {\n\t\t\t\t\tsize = maxLength;\n\t\t\t\t}\n\t\t\t\tcandidate = new Array(size);\n\t\t\t\ttype = null;\n\t\t\t\tfor (i = 0; i < size; i++) {\n\t\t\t\t\ttype = items[i].type || 'any';\n\t\t\t\t\tif (_typeIs.array(type)) {\n\t\t\t\t\t\ttype = type[_rand.int(0, type.length - 1)];\n\t\t\t\t\t}\n\t\t\t\t\tcandidate[i] = self[type](items[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsize = schema.exactLength != null ? schema.exactLength : _rand.int(minLength, maxLength);\n\t\t\t\tcandidate = new Array(size);\n\t\t\t\ttype = items.type || 'any';\n\t\t\t\tif (_typeIs.array(type)) {\n\t\t\t\t\ttype = type[_rand.int(0, type.length - 1)];\n\t\t\t\t}\n\t\t\t\tfor (i = 0; i < size; i++) {\n\t\t\t\t\tcandidate[i] = self[type](items);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn candidate;\n\t\t},\n\t\tany: function (schema) {\n\t\t\tvar fields = Object.keys(_typeGenerator);\n\t\t\tvar i = fields[_rand.int(0, fields.length - 2)];\n\t\t\treturn this[i](schema);\n\t\t}\n\t};\n\n\t// CandidateGenerator Class (Singleton) --------------------------------------\n\tfunction CandidateGenerator() {\n\t\t// Maybe extends Inspection class too ?\n\t}\n\n\t_extend(CandidateGenerator.prototype, _typeGenerator);\n\n\tvar _instance = null;\n\tCandidateGenerator.instance = function () {\n\t\tif (!(_instance instanceof CandidateGenerator)) {\n\t\t\t_instance = new CandidateGenerator();\n\t\t}\n\t\treturn _instance;\n\t};\n\n\tCandidateGenerator.prototype.generate = function (schema) {\n\t\tvar type = schema.type || 'any';\n\t\tif (_typeIs.array(type)) {\n\t\t\ttype = type[_rand.int(0, type.length - 1)];\n\t\t}\n\t\treturn this[type](schema);\n\t};\n\n// Exports ---------------------------------------------------------------------\n\tvar SchemaInspector = {};\n\n\t// if server-side (node.js) else client-side\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = SchemaInspector;\n\t}\n\telse {\n\t\twindow.SchemaInspector = SchemaInspector;\n\t}\n\n\tSchemaInspector.newSanitization = function (schema, custom) {\n\t\treturn new Sanitization(schema, custom);\n\t};\n\n\tSchemaInspector.newValidation = function (schema, custom) {\n\t\treturn new Validation(schema, custom);\n\t};\n\n\tSchemaInspector.Validation = Validation;\n\tSchemaInspector.Sanitization = Sanitization;\n\n\tSchemaInspector.sanitize = function (schema, post, custom, callback) {\n\t\tif (arguments.length === 3 && typeof custom === 'function') {\n\t\t\tcallback = custom;\n\t\t\tcustom = null;\n\t\t}\n\t\treturn new Sanitization(schema, custom).sanitize(post, callback);\n\t};\n\n\tSchemaInspector.validate = function (schema, candidate, custom, callback) {\n\t\tif (arguments.length === 3 && typeof custom === 'function') {\n\t\t\tcallback = custom;\n\t\t\tcustom = null;\n\t\t}\n\t\treturn new Validation(schema, custom).validate(candidate, callback);\n\t};\n\n\tSchemaInspector.generate = function (schema, n) {\n\t\tif (typeof n === 'number') {\n\t\t\tvar r = new Array(n);\n\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\tr[i] = CandidateGenerator.instance().generate(schema);\n\t\t\t}\n\t\t\treturn r;\n\t\t}\n\t\treturn CandidateGenerator.instance().generate(schema);\n\t};\n})();\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","_extend","origin","add","keys","Object","i","length","_merge","ret","Array","prototype","slice","call","args","arguments","forEach","arg","constructor","Customisable","custom","extend","this.extend","reset","this.reset","remove","this.remove","fields","_typeIs","array","field","Inspection","schema","_stack","_schema","_custom","key","hasOwnProperty","_getDepth","this._getDepth","_dumpStack","this._dumpStack","map","replace","join","_deeperObject","this._deeperObject","name","push","test","_deeperArray","this._deeperArray","_back","this._back","pop","_simpleType","type","candidate","_realType","Validation","_error","_basicFields","_validationAttribut","_customFields","report","this.report","message","code","reason","newErr","userCode","userError","property","userAlias","result","this.result","error","valid","format","Sanitization","_reporting","_sanitizationAttribut","newNot","some","e","data","reporting","_getLimits","min","INT_MIN","max","INT_MAX","gte","gt","lte","lt","CandidateGenerator","async","window","Error","function","element","string","number","isNaN","integer","NaN","boolean","null","date","Date","object","any","_formats","optional","opt","types","typeIsValid","t","uniqueness","reported","indexOf","indexes","a","value","pattern","regexs","matches","regex","RegExp","self","validDate","String","getTime","minLength","Number","maxLength","exactLength","limit","eq","l","ne","someKeys","candidat","_keys","action","strict","properties","intruder","filter","msg","exec","callback","asyncExec","asyncProperties","_validate","items","asyncItems","_asyncValidationAttribut","eachSeries","done","nextTick","series","next","_asyncValidate","err","timesSeries","res","validate","Validation.prototype.validate","Validation.prototype._validate","alias","Validation.prototype._asyncValidate","_forceType","post","def","n","parseFloat","parseInt","toString","joinWith","JSON","stringify","d","toLowerCase","parse","substring","split","splitWith","_applyRules","upper","toUpperCase","lower","title","txt","charAt","substr","capitalize","ucfirst","trim","rules","modified","rule","postTest","str","gap","tmp","_sanitize","execs","_asyncSanitizationAttribut","globing","_asyncSanitize","sanitize","Sanitization.prototype.sanitize","Sanitization.prototype._sanitize","Sanitization.prototype._asyncSanitize","waterfall","reduce","inter","_rand","int","Math","random","float","bool","char","fromCharCode","fromList","list","_formatSample","date-time","toISOString","time","toLocaleTimeString","hour12","color","s","numeric","decimal","alpha","alphaNumeric","alphaDash","javascript","_typeGenerator","o","prop","generate","randomKey","rk","size","_instance","instance","CandidateGenerator.instance","CandidateGenerator.prototype.generate","SchemaInspector","newSanitization","SchemaInspector.newSanitization","newValidation","SchemaInspector.newValidation","SchemaInspector.sanitize","SchemaInspector.validate","SchemaInspector.generate","r"]
}

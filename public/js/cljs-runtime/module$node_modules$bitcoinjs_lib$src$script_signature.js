shadow$provide.module$node_modules$bitcoinjs_lib$src$script_signature=function(global,process,require,module,exports,shadow$shims){function toDER(x){for(var i=0;0===x[i];)++i;if(i===x.length)return ZERO;x=x.slice(i);return x[0]&128?Buffer.concat([ZERO,x],1+x.length):x}function fromDER(x){0===x[0]&&(x=x.slice(1));var buffer=Buffer.alloc(32,0);x.copy(buffer,Math.max(0,32-x.length));return buffer}var bip66=require("module$node_modules$bip66$index"),Buffer=require("module$node_modules$safe_buffer$index").Buffer,
typeforce=require("module$node_modules$typeforce$index"),types=require("module$node_modules$bitcoinjs_lib$src$types"),ZERO=Buffer.alloc(1,0);module.exports={decode:function(buffer){var hashType=buffer.readUInt8(buffer.length-1),hashTypeMod=hashType&-129;if(0>=hashTypeMod||4<=hashTypeMod)throw Error("Invalid hashType "+hashType);hashTypeMod=bip66.decode(buffer.slice(0,-1));buffer=fromDER(hashTypeMod.r);hashTypeMod=fromDER(hashTypeMod.s);return{signature:Buffer.concat([buffer,hashTypeMod],64),hashType:hashType}},
encode:function(signature,hashType){typeforce({signature:types.BufferN(64),hashType:types.UInt8},{signature:signature,hashType:hashType});var hashTypeMod=hashType&-129;if(0>=hashTypeMod||4<=hashTypeMod)throw Error("Invalid hashType "+hashType);hashTypeMod=Buffer.allocUnsafe(1);hashTypeMod.writeUInt8(hashType,0);hashType=toDER(signature.slice(0,32));signature=toDER(signature.slice(32,64));return Buffer.concat([bip66.encode(hashType,signature),hashTypeMod])}}}
//# sourceMappingURL=module$node_modules$bitcoinjs_lib$src$script_signature.js.map
